{"remainingRequest":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\src\\components\\posts\\DeleteBoard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\src\\components\\posts\\DeleteBoard.vue","mtime":1581408201650},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBodHRwIGZyb20gIi4uLy4uL2h0dHAtY29tbW9uIjsKaW1wb3J0IFBvc3RTdWJtZW51IGZyb20gIi4vUG9zdFN1Ym1lbnUiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkRlbGV0ZS1Cb2FyZCIsCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGJvYXJkczpbXSwgLy/qsIDsoLjsmKgg6rKM7Iuc7YyQ7J2EIOuwsOyXtOuhnCDsoIDsnqUuCiAgICAgICAgICAgIGRlcF9pZDogIiIsIC8v67aA7ISc67KI7Zi47JeQIO2VtOuLue2VmOuKlCDqsozsi5ztjJDrp4wg6rCA7KC47Jik6riwIOychO2VtOyEnAogICAgICAgICAgICBzZWxlY3RCb2FyZDoiIiwKICAgICAgICAgICAgYm9hcmRfbmFtZToiIgogICAgICAgIH07CiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgIHN1Yk1lbnU6IFBvc3RTdWJtZW51CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLwogICAgICAgIC8v7KCA7J6l65CcIOqyjOyLnO2MkCDrqoXsnYQg6rCA7KC47Jik64qUIOuplOyEnOuTnAogICAgICAgIGRlbGV0ZUJvYXJkKCl7CiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0PSBjb25maXJtKCLqsozsi5ztjJDsnYQg7IKt7KCc7ZWY66m0IO2VtOuLue2VmOuKlCDqsozsi5zquIDsnYAg66qo65GQIOyCreygnOuQqeuLiOuLpC5cbuygleunkOuhnCDqsozsi5ztjJDsnYQg7IKt7KCc7ZWY7Iuc6rKg7Iq164uI6rmMPyIpCiAgICAgICAgICAgICAgICBpZihyZXN1bHQpewogICAgICAgICAgICAgICAgIGh0dHAKICAgICAgICAgICAgICAgICAgICAuZGVsZXRlKCIvYm9hcmQvZGVsZXRlQm9hcmQvIiArIHRoaXMuc2VsZWN0Qm9hcmQpCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuqyjOyLnO2MkOydhCDsgq3soJztlZjsmIDslIHri4jri6QuIikKICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LmdvKDApOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgLy8gaGlzdG9yeS5nbygwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0Qm9hcmQrIjw8PDw8PDzsgq3soJztlaAg6rKM7Iuc66y8IikKCiAgICAgICAgfSwKICAgICAgICBnZXRCb2FyZCgpewogICAgICAgICAgICBodHRwCiAgICAgICAgICAgICAgICAuZ2V0KCIvYm9hcmQvZ2V0Qm9hcmQvIiArIHRoaXMuZGVwX2lkKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT57CiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZHM9cmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi6rKM7Iuc7YyQ7J2EIOqwgOyguOyZlOyKteuLiOuLpCFcbuyCreygnO2VoCDqsozsi5ztjJDsnYQg7ISg7YOd7ZWY7IS47JqUICEiKQogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgfSwKCgogICAgICAgIGJhY2tsaXN0KCl7CiAgICAgICAgICAgIGhpc3RvcnkuZ28oLTEpOwogICAgICAgIH0sCgogICAgICAgIGdldEVtcEluZm8oaWQpIHsgICAgLy8g66ek6rCc67OA7IiYIGlk64qUIHRoaXMuZW1wbG95ZWUuZW1wX2lkIOydtOuLpC4gOiBtb3VudGVkKCnrlYwg7Zi47Lac65CY64qUIOuplOyGjOuTnC4KICAgICAgICAgICAgaHR0cAogICAgICAgICAgICAgICAgLnBvc3QoIi9teXBhZ2UvIiArIGlkKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIOydkeuLtSDrjbDsnbTthLDrpbwgZW1wbG95ZWUg642w7J207YSw7JeQIOuMgOyehe2VmOq4sC4KICAgICAgICAgICAgICAgICAgICB0aGlzLmRlcF9pZCA9IHJlc3BvbnNlLmRhdGEuZGVwX2lkOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHdyaXRlQ2hlY2soKSB7CiAgICAgICAgICAgIGxldCB3cml0ZV9jaGsgPSBsb2NhdGlvbi5ocmVmLmluZGV4T2YoImRlcF9wc3QiKTsgIC8vIGRlcF9wc3Qg6rCAIO2PrO2VqOuQmOyWtCDsnojsnLzrqbQgMCjrtoDshJzqsozsi5ztjJApIOydtOyDgeydmCDsiKvsnpAsIOyXhuycvOuptCAtMSjsoITsgqzqsozsi5ztjJApCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHdyaXRlX2Noayk7CiAgICAgICAgICAgIGlmKHdyaXRlX2Noaz09LTEpIHsKICAgICAgICAgICAgICAgIC8vIO2YhOyerCDsoITsgqwg6rKM7Iuc7YyQIOyEoO2DnSDsg4Htg5wKICAgICAgICAgICAgICAgIHRoaXMucG9zdF9kZXBfaWQgPSAwOyAgIC8vICBwb3N0X2RlcF9pZCDsl5AgMOuEo+q4sAogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5nZXRFbXBJbmZvKHRoaXMuZW1wSUQpOyAgICAvLyBlbXBJROuhnCDsgqzsm5DsoJXrs7Qg6rCA7KC47Jik6riwIDogZGVwX2lk66eMIOyCrOyaqe2VqAoKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5sZW5ndGggPiAwKSB7IC8vIO2YhOyerCBzZXNzaW9uU3RvcmFnZeyXkCDsmpTshozqsIAg7KG07J6s7ZWY64qUIOyDge2DnOydvCDrlYwo66Gc6re47J247J20IOuQmOyWtOyEnCBzZXNzaW9uU3RvcmFnZeyXkCDsoIDsnqXrkJwg7IOB7YOc7J28IOuVjCkKICAgICAgICAgICAgdGhpcy5lbXBJRCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImxvZ2luX2lkIik7IC8vIOydtCDsu7Ttj6zrhIztirjsl5Ag7ISg7Ja465CcIGVtcElEIOuzgOyImOyXkCDtmITsnqwg66Gc6re47J247ZWcIOyCrOuyiCDrhKPquLAKICAgICAgICAgICAgLy8gdGhpcy5nZXROYW1lKHRoaXMuZW1wSUQpOyAgIC8vIGVtcElE66GcIOyCrOybkOuqhSDqsIDsoLjsmKTripQg66mU7IaM65OcIO2YuOy2nAogICAgICAgICAgICB0aGlzLmdldEVtcEluZm8odGhpcy5lbXBJRCk7CgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgfQogICAgfSwKICAgIHVwZGF0ZWQoKSB7CiAgICAgICAgdGhpcy53cml0ZUNoZWNrKCk7CiAgICB9Cgp9Cg=="},{"version":3,"sources":["DeleteBoard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"DeleteBoard.vue","sourceRoot":"src/components/posts","sourcesContent":["<template>\r\n    <div>\r\n        <div>\r\n            <h4>부서 게시판 삭제</h4>\r\n            <subMenu></subMenu>\r\n        </div>\r\n        <div>\r\n        <ul>\r\n        <div>\r\n        <button type=\"button\" class=\"btn btn-primary btn-lg\" @click=\"getBoard\">부서 게시판 가져오기</button>\r\n        </div>\r\n\r\n            <p class=\"smalltext\" style=\"color: red; font-size: smaller\" >*클릭하여 게시판명을 가져오세요.</p>\r\n            <br><br>\r\n            <div>\r\n            <select class=\"custom-select\" v-model=\"selectBoard\">\r\n                <option disabled value=\"\">삭제할 게시판을 선택하세요</option>\r\n                <option v-for=\"(board,index) in boards\" :key=\"index\">\r\n                    {{board.board_name}}\r\n                </option>\r\n            </select>\r\n            </div>\r\n            <br>\r\n            <span>{{selectBoard}}</span>\r\n                <br>\r\n             <br>\r\n            <div>\r\n            <button class=\"btn btn-success\" type=\"button\" @click=\"deleteBoard\">삭제하기</button>\r\n            <button class=\"btn btn-success\" type=\"button\" @click=\"backlist\">돌아가기</button>\r\n            </div>\r\n        </ul>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import http from \"../../http-common\";\r\n    import PostSubmenu from \"./PostSubmenu\";\r\n\r\n    export default {\r\n        name: \"Delete-Board\",\r\n        data () {\r\n            return{\r\n                boards:[], //가져온 게시판을 배열로 저장.\r\n                dep_id: \"\", //부서번호에 해당하는 게시판만 가져오기 위해서\r\n                selectBoard:\"\",\r\n                board_name:\"\"\r\n            };\r\n        },\r\n        components: {\r\n            subMenu: PostSubmenu\r\n        },\r\n        methods:{\r\n            /* eslint-disable no-console */\r\n            //저장된 게시판 명을 가져오는 메서드\r\n            deleteBoard(){\r\n                    let result= confirm(\"게시판을 삭제하면 해당하는 게시글은 모두 삭제됩니다.\\n정말로 게시판을 삭제하시겠습니까?\")\r\n                    if(result){\r\n                     http\r\n                        .delete(\"/board/deleteBoard/\" + this.selectBoard)\r\n                        alert(\"게시판을 삭제하였씁니다.\")\r\n                        history.go(0);\r\n                    }else{\r\n                        // history.go(0);\r\n                    }\r\n                    console.log(this.selectBoard+\"<<<<<<<삭제할 게시물\")\r\n\r\n            },\r\n            getBoard(){\r\n                http\r\n                    .get(\"/board/getBoard/\" + this.dep_id)\r\n                    .then(response =>{\r\n                        this.boards=response.data;\r\n                        alert(\"게시판을 가져왔습니다!\\n삭제할 게시판을 선택하세요 !\")\r\n                    })\r\n\r\n            },\r\n\r\n\r\n            backlist(){\r\n                history.go(-1);\r\n            },\r\n\r\n            getEmpInfo(id) {    // 매개변수 id는 this.employee.emp_id 이다. : mounted()때 호출되는 메소드.\r\n                http\r\n                    .post(\"/mypage/\" + id)\r\n                    .then(response => {\r\n                        // 응답 데이터를 employee 데이터에 대입하기.\r\n                        this.dep_id = response.data.dep_id;\r\n                    })\r\n                    .catch(e => {\r\n                        /* eslint-disable no-console */\r\n                        console.log(e);\r\n                    });\r\n            },\r\n            writeCheck() {\r\n                let write_chk = location.href.indexOf(\"dep_pst\");  // dep_pst 가 포함되어 있으면 0(부서게시판) 이상의 숫자, 없으면 -1(전사게시판)\r\n                console.log(write_chk);\r\n                if(write_chk==-1) {\r\n                    // 현재 전사 게시판 선택 상태\r\n                    this.post_dep_id = 0;   //  post_dep_id 에 0넣기\r\n                } else {\r\n                    this.getEmpInfo(this.empID);    // empID로 사원정보 가져오기 : dep_id만 사용함\r\n\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            if (sessionStorage.length > 0) { // 현재 sessionStorage에 요소가 존재하는 상태일 때(로그인이 되어서 sessionStorage에 저장된 상태일 때)\r\n                this.empID = sessionStorage.getItem(\"login_id\"); // 이 컴포넌트에 선언된 empID 변수에 현재 로그인한 사번 넣기\r\n                // this.getName(this.empID);   // empID로 사원명 가져오는 메소드 호출\r\n                this.getEmpInfo(this.empID);\r\n\r\n            } else {\r\n                this.$router.push(\"/\");\r\n            }\r\n        },\r\n        updated() {\r\n            this.writeCheck();\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .custom-select{\r\n        width: 30%;\r\n    }\r\n\r\n</style>"]}]}