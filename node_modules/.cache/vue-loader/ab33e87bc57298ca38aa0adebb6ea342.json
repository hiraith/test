{"remainingRequest":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ciz\\IdeaProjects\\test\\src\\components\\schedule\\ScheduleSubMenu.vue?vue&type=style&index=0&id=397d362a&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\src\\components\\schedule\\ScheduleSubMenu.vue","mtime":1581499144806},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zdWJNZW51IHsKICAgIG1pbi13aWR0aDogMjAwcHg7Cn0KYnV0dG9uewogICAgd2lkdGg6MTAwJTsKfQouY2F0ZWdvcnl7CiAgICB3aWR0aDogOTAlOwogICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIGZvbnQtc2l6ZTogMTNweDsKICAgIG1hcmdpbjogYXV0byAyMHB4OwogICAgcGFkZGluZy1yaWdodDogMTBweDsKfQouY2FsZW5kYXJMYWJlbCB7CiAgICBwYWRkaW5nLXRvcDogMDsKICAgIHBhZGRpbmctYm90dG9tOiAxMHB4Owp9Ci5pbnB1dENvbG9yIHsKICAgIG1hcmdpbi10b3A6IDVweDsKICAgIGZsb2F0OiBsZWZ0Owp9Ci5hZGRJbnB1dCB7CiAgICB3aWR0aDogNzUlOwogICAgZmxvYXQ6IGxlZnQ7CiAgICBtYXJnaW4tbGVmdDogNXB4OwogICAgbWFyZ2luLXJpZ2h0OiAycHg7Cn0KLmFkZEJ0biB7CiAgICB3aWR0aDogNSU7CiAgICBmbG9hdDogbGVmdDsKICAgIHBhZGRpbmc6IDA7Cn0KLmNoZWNrQm94IHsKICAgIG1hcmdpbi10b3A6IDVweDsKICAgIG1hcmdpbi1yaWdodDogNXB4Owp9Ci5wdXNoQ2FsQnRuIHsKICAgIHdpZHRoOiA1MHB4Owp9Ci8qIGlucHV0IGNvbG9yIOuPmeq3uOuel+qyjCDrp4zrk6TquLAgKi8KaW5wdXRbdHlwZT0iY29sb3IiXSB7CiAgICBjdXJzb3I6IHBvaW50ZXI7ICAgIC8qIO2BtOumrSDtlZjripQg66eI7Jqw7IqkIOy7pOyEnCDrqqjslpEgKi8KICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAgIHdpZHRoOiAxOHB4OwogICAgaGVpZ2h0OiAxN3B4OwogICAgYm9yZGVyLXJhZGl1czogNTAlOwp9CmlucHV0W3R5cGU9ImNvbG9yIl06Oi13ZWJraXQtY29sb3Itc3dhdGNoLXdyYXBwZXIgewogICAgcGFkZGluZzogMDsKfQppbnB1dFt0eXBlPSJjb2xvciJdOjotd2Via2l0LWNvbG9yLXN3YXRjaCB7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgYm9yZGVyLXJhZGl1czogNTAlOwp9Ci5hZGRDYWxlbmRhckxpc3QgewogICAgaGVpZ2h0OiA2MHB4OwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIHBhZGRpbmctdG9wOiA4cHg7Cn0K"},{"version":3,"sources":["ScheduleSubMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScheduleSubMenu.vue","sourceRoot":"src/components/schedule","sourcesContent":["<template>\r\n    <div class=\"subMenu\">\r\n        <ul class=\"nav nav-pills flex-column\">\r\n            <li class=\"list-group-item addCalendarList libgclr\">\r\n                <button class=\"btn btn-lg btn-link\" @click=\"addSchedule()\">일정 등록</button>\r\n            </li>\r\n            <li class=\"list-group-item libgclr\">\r\n                <label class=\"col-form-label col-form-label calendarLabel\" for=\"inputSmall\">캘린더 추가</label><br>\r\n                <div style=\"width: 100%\">\r\n                    <input type=\"color\" class=\"inputColor\" v-model=\"calendarInput.cal_color\">\r\n                    <input class=\"form-control form-control-sm addInput\" type=\"text\" placeholder=\"추가할 캘린더 입력\" id=\"inputSmall\" v-model=\"calendarInput.cal_name\">\r\n\r\n                    <button class=\"btn btn-lg btn-link addBtn\" @click=\"addCalendar()\">+</button>\r\n                </div>\r\n            </li>\r\n            <li class=\"list-group-item libgclr\">\r\n                <div v-if=\"calendarList\">\r\n                    <label class=\"col-form-label col-form-label calendarLabel\">캘린더 목록</label><br>\r\n                    <label class=\"form-check-label category\" v-for=\"(calendar, index) in calendarList\" :key=\"index\">\r\n                        <input class=\"checkBox\" type=\"checkbox\" :value=\"calendar.calendar_id\" v-model=\"checkedCalendars\" checked=\"calendar_chk\">\r\n\r\n                            <span style=\"font-size: 15px\" :style=\"{color: calendar.calendar_color}\">●</span>&nbsp;\r\n                            {{calendar.calendar_name}}\r\n                    </label><br><br>\r\n\r\n                    <button class=\"btn btn-info btn-sm pushCalBtn\" @click=\"modifyCalendar()\">수정</button>\r\n                    <button class=\"btn btn-info btn-sm pushCalBtn\" @click=\"deleteCalendarList()\">삭제</button>\r\n                </div>\r\n            </li>\r\n\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import http from \"../../http-common\";\r\n    import RegisterPopup from \"./RegisterPopupModal\";\r\n    import ScheduleModifyModal from \"./ScheduleModifyModal\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            emp_id: \"\",         // 사번\r\n            calendarInput : {   // 추가할 캘린더 Input\r\n              cal_name: \"\",\r\n              cal_color: \"#ffffff\"\r\n            },\r\n            calendarList: [],         // 모든 캘린더 목록\r\n            checkedCalendars : [],    // 체크된 캘린더 목록\r\n            modi_flag : [],         // 캘린더 목록 수정 여부 검사할 flag\r\n            modi_cal_input : [],\r\n            modi_cal_color : []\r\n        }\r\n    },\r\n    methods : {\r\n        addSchedule() { // 일정 등록 modal 띄우는 메소드\r\n            this.$modal.show(RegisterPopup, {\r\n                registerData : 'data',\r\n                modal : this.$modal,\r\n            },\r\n            {\r\n                 name: 'dynamic-modal',\r\n                 width:'400px',\r\n                 height: '600px',\r\n                 draggable: true\r\n            });\r\n        },\r\n        addCalendar() { // 캘린더 추가하기\r\n            let sche_data = {\r\n                calendar_name : this.calendarInput.cal_name,\r\n                calendar_color: this.calendarInput.cal_color\r\n            }\r\n            if(this.calendarInput.cal_name === \"\" || this.calendarInput.cal_color === \"\") {\r\n                return;\r\n            } else {\r\n                http\r\n                    .post(\"/calendar/add/\" + this.emp_id, sche_data)\r\n                    .then(response=> {\r\n                        this.getCalendarList();\r\n                    })\r\n                    .catch(e => {\r\n                        /* eslint-disable no-console */\r\n                        console.log(e);\r\n                    });\r\n            }\r\n\r\n        },\r\n        getCalendarList() { // 캘린더 목록 가져오기\r\n            http\r\n                .get(\"/calendar/list/\" + this.emp_id)\r\n                .then(response=> {\r\n                    /* eslint-disable no-console */\r\n                    this.calendarList = response.data;\r\n                    for(let i=0; i<this.calendarList.length; i++) {\r\n                        this.modi_flag[i] = false;\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    /* eslint-disable no-console */\r\n                    console.log(e);\r\n                });\r\n        },\r\n        modifyCalendar() {  // 캘린더 수정 Modal 창 띄우기\r\n            this.$modal.show(ScheduleModifyModal, {\r\n                    checkedCalendars: this.checkedCalendars,    // 선택한 캘린더의 calendar_id 목록\r\n                    modal: this.$modal,\r\n                },\r\n                {\r\n                    width: '500px',\r\n                    height: '400px',\r\n                    draggable: true\r\n                });\r\n\r\n            this.checkedCalendars = []; // 체크한 캘린더 목록 초기화\r\n            // this.getCalendarList(); // 캘린더 목록 다시 불러오기\r\n        },\r\n        deleteCalendarList() {  // 캘린더 목록 삭제 하는 메소드\r\n            if(this.checkedCalendars.length !=0) {\r\n                let flag = confirm(\"정말로 삭제하시겠습니까?\");\r\n\r\n                if(flag == true) {\r\n                    if(this.checkedCalendars.length !=0) {\r\n                        http\r\n                            .delete(\"/calendar/list/\" + this.emp_id +\"?calendar_id=\" + this.checkedCalendars)\r\n                            .then(response=> {\r\n                                /* eslint-disable no-console */\r\n                                this.checkedCalendars = []; // 체크한 캘린더 목록 초기화\r\n                            })\r\n                            .catch(e => {\r\n                                /* eslint-disable no-console */\r\n                                console.log(e);\r\n                            });\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n    mounted() {\r\n        // mounted 될 때 로그인이 되어있는 상태라면\r\n        if (sessionStorage.length > 0) { // 현재 sessionStorage에 요소가 존재하는 상태일 때(로그인이 되어서 sessionStorage에 저장된 상태일 때)\r\n            this.emp_id = sessionStorage.getItem(\"login_id\");\r\n            this.getCalendarList();\r\n        }else {\r\n            this.$router.push(\"/\");\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n    .subMenu {\r\n        min-width: 200px;\r\n    }\r\n    button{\r\n        width:100%;\r\n    }\r\n    .category{\r\n        width: 90%;\r\n        text-align: left;\r\n        font-size: 13px;\r\n        margin: auto 20px;\r\n        padding-right: 10px;\r\n    }\r\n    .calendarLabel {\r\n        padding-top: 0;\r\n        padding-bottom: 10px;\r\n    }\r\n    .inputColor {\r\n        margin-top: 5px;\r\n        float: left;\r\n    }\r\n    .addInput {\r\n        width: 75%;\r\n        float: left;\r\n        margin-left: 5px;\r\n        margin-right: 2px;\r\n    }\r\n    .addBtn {\r\n        width: 5%;\r\n        float: left;\r\n        padding: 0;\r\n    }\r\n    .checkBox {\r\n        margin-top: 5px;\r\n        margin-right: 5px;\r\n    }\r\n    .pushCalBtn {\r\n        width: 50px;\r\n    }\r\n    /* input color 동그랗게 만들기 */\r\n    input[type=\"color\"] {\r\n        cursor: pointer;    /* 클릭 하는 마우스 커서 모양 */\r\n        -webkit-appearance: none;\r\n        width: 18px;\r\n        height: 17px;\r\n        border-radius: 50%;\r\n    }\r\n    input[type=\"color\"]::-webkit-color-swatch-wrapper {\r\n        padding: 0;\r\n    }\r\n    input[type=\"color\"]::-webkit-color-swatch {\r\n        box-sizing: border-box;\r\n        border-radius: 50%;\r\n    }\r\n    .addCalendarList {\r\n        height: 60px;\r\n        vertical-align: middle;\r\n        padding-top: 8px;\r\n    }\r\n</style>\r\n"]}]}