{"remainingRequest":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\src\\components\\MainView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\src\\components\\MainView.vue","mtime":1579005696212},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgaHR0cCBmcm9tICIuLi9odHRwLWNvbW1vbiI7DQoNCiBleHBvcnQgZGVmYXVsdCB7DQogICBuYW1lOiAiZW1wbG95ZWUtbG9naW4iLA0KICAgZGF0YSgpIHsNCiAgICAgcmV0dXJuIHsNCiAgICAgICBpbnB1dDogew0KICAgICAgICAgZW1wX2lkOiAiIiwgICAgLy8g7IKs7JuQ67KI7Zi4IOyeheugpSDqsJIg6rKA7IKs66W8IOychO2VnCDrs4DsiJgNCiAgICAgICAgIGVtcF9wdzogIiIgICAgIC8vIOu5hOuwgOuyiO2YuCDsnoXroKUg6rCSIOqygOyCrOulvCDsnITtlZwg67OA7IiYDQogICAgICAgfSwNCiAgICAgICBsb2dpbkluZm86IHsNCiAgICAgICAgICAgbG9naW5TdGF0dXM6ICIiLCAvL+uhnOq3uOyduCDsg4Htg5wg64u07J2EIOuzgOyImA0KICAgICAgICAgICBsb2dpbklkOiAiIiAgICAgIC8vIOuhnOq3uOyduCDslYTsnbTrlJQNCiAgICAgICB9DQogICAgIH07DQogICB9LA0KICAgbWV0aG9kczogew0KICAgIGxvZ2luKCkgew0KICAgICAgICAgaWYodGhpcy5pbnB1dC5lbXBfaWQgIT0gIiIgJiYgdGhpcy5pbnB1dC5lbXBfcHcgIT0gIiIpIHsgLy8g7IKs7JuQ67KI7Zi4LCDruYTrsIDrsojtmLggaW5wdXQg67mIIOy5uCDtmZXsnbgNCiAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgZW1wX2lkOiB0aGlzLmlucHV0LmVtcF9pZCwNCiAgICAgICAgICAgICAgICBlbXBfcHc6IHRoaXMuaW5wdXQuZW1wX3B3DQogICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAvLyBVcGZmaWNlQmFjayDsnZggTG9naW5Db250cm9sbGVyIOuhnCDrp6TtlZENCiAgICAgICAgICAgICAgaHR0cA0KICAgICAgICAgICAgICAucG9zdCgiL2xvZ2luIiwgZGF0YSkNCiAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KDQogICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhICE9IDApIHsgIC8vIOqysOqzvCDqsJLsnbQgMOydtCDslYTri4jrqbQgRELsl5Ag7IKs67KIKOyVhOydtOuUlCksIOu5hOuwgOuyiO2YuOqwgCDsobTsnqztlZzri6TripQg65y7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dpbkluZm8ubG9naW5JZCA9IHJlc3BvbnNlLmRhdGE7ICAgLy8gbG9naW5JZOyXkCDsnZHri7Ug642w7J207YSw66W8IOuEo+uKlOuLpC4o7J2R64u1IOuNsOydtO2EsOuKlCDsgqzsm5DrsojtmLgpDQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dpbkluZm8ubG9naW5TdGF0dXMgPSB0cnVlOyAgICAgICAgLy8gbG9naW5TdGF0dXMg7JeQIO2YhOyerCDroZzqt7jsnbgg7IOB7YOcIHRydWXroZwg67CU6r646riwDQogICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgibG9naW5faWQiLCB0aGlzLmxvZ2luSW5mby5sb2dpbklkKTsgICAgICAgICAgIC8vIHNlc3Npb25TdG9yYWdlIOyXkCDroZzqt7jsnbgg7JWE7J2065SUKOyCrOuyiCkg7KCA7J6l7ZWY6riwDQogICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgibG9naW5fc3RhdHVzIiwgdGhpcy5sb2dpbkluZm8ubG9naW5TdGF0dXMpOyAgIC8vIHNlc3Npb25TdG9yYWdlIOyXkCDroZzqt7jsnbgg7IOB7YOcIOyggOyepe2VmOq4sA0KDQogICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8MTsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOy8vIOuhnOq3uOyduCDsi5wg7ZWcIOuyiOunjCDsg4jroZzqs6DsuagNCiAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuyCrOybkCDrsojtmLgg65iQ64qUIOu5hOuwgOuyiO2YuOqwgCDsnbzsuZjtlZjsp4Ag7JWK7Iq164uI64ukISIpOw0KICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICB9IGVsc2UgeyAvLyDsgqzsm5DrsojtmLgsIOu5hOuwgOuyiO2YuCBpbnB1dCDruYgg7Lm47J24IOqyveyasA0KICAgICAgICAgICAgYWxlcnQoIuu5iCDsubjsnYQg7ZmV7J247ZW07KO87IS47JqUISIpOw0KICAgICAgICAgIH0gLy8gRW5kIDogaWYtZWxzZQ0KICAgIH0gLy8gRW5kIC0gbG9naW4oKQ0KDQogICB9LCAvLyBFbmQgLSBtZXRob2RzDQogICAgIG1vdW50ZWQoKSB7DQogICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgIC8vIOuhnOq3uOyduCDsg4Htg5zrpbwgPGRpdj4g7YOc6re47JeQ7IScIO2MkOuzhO2VmOq4sCDsnITtlbQgdGhpcy5sb2dpbkluZm8ubG9naW5TdGF0dXMg66GcIOuMgOyehe2VnOuLpC4NCiAgICAgICAgICAgICB0aGlzLmxvZ2luSW5mby5sb2dpblN0YXR1cyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImxvZ2luX3N0YXR1cyIpOw0KICAgICAgICAgfQ0KICAgICB9DQogICB9Ow0K"},{"version":3,"sources":["MainView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MainView.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"mainForm\">\r\n        <!--로그인이 된 경우 보일 <div> 태그 부분-->\r\n        <div v-if=\"!loginInfo.loginStatus\">\r\n            <div class=\"form-group\">\r\n                <label class=\"col-form-label col-form-label-lg inputLbl\" for=\"emp_id\">사원번호</label>\r\n                <input class=\"form-control form-control-lg\" type=\"text\" id=\"emp_id\" v-on:keyup.enter=\"login\" required v-model=\"input.emp_id\" placeholder=\"사원번호를 입력해주세요\">\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label class=\"col-form-label col-form-label-lg inputLbl\" for=\"emp_pw\">비밀번호</label>\r\n                <input class=\"form-control form-control-lg\"  type=\"password\" v-on:keyup.enter=\"login\" id=\"emp_pw\" required v-model=\"input.emp_pw\" placeholder=\"비밀번호를 입력해주세요\">\r\n            </div><br>\r\n\r\n            <button v-on:click=\"login()\" class=\"btn btn-primary btn-lg loginBtn\">Login</button>\r\n        </div>\r\n\r\n        <div v-else>\r\n            <h4>You logIned successfully!</h4>\r\n            로그인 되었을 때 메인\r\n            <!--ex) {{this.$router.push(\"/mypage\")}}-->\r\n            <!--요약 메인 페이지를 하나 만들고 위처럼 주소 push 해서 넘기면 된다.(로그인 성공 시)-->\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport http from \"../http-common\";\r\n\r\n export default {\r\n   name: \"employee-login\",\r\n   data() {\r\n     return {\r\n       input: {\r\n         emp_id: \"\",    // 사원번호 입력 값 검사를 위한 변수\r\n         emp_pw: \"\"     // 비밀번호 입력 값 검사를 위한 변수\r\n       },\r\n       loginInfo: {\r\n           loginStatus: \"\", //로그인 상태 담을 변수\r\n           loginId: \"\"      // 로그인 아이디\r\n       }\r\n     };\r\n   },\r\n   methods: {\r\n    login() {\r\n         if(this.input.emp_id != \"\" && this.input.emp_pw != \"\") { // 사원번호, 비밀번호 input 빈 칸 확인\r\n              var data = {\r\n                emp_id: this.input.emp_id,\r\n                emp_pw: this.input.emp_pw\r\n              };\r\n\r\n             // UpfficeBack 의 LoginController 로 매핑\r\n              http\r\n              .post(\"/login\", data)\r\n              .then(response => {\r\n\r\n                  if(response.data != 0) {  // 결과 값이 0이 아니면 DB에 사번(아이디), 비밀번호가 존재한다는 뜻\r\n                      this.loginInfo.loginId = response.data;   // loginId에 응답 데이터를 넣는다.(응답 데이터는 사원번호)\r\n                      this.loginInfo.loginStatus = true;        // loginStatus 에 현재 로그인 상태 true로 바꾸기\r\n                      sessionStorage.setItem(\"login_id\", this.loginInfo.loginId);           // sessionStorage 에 로그인 아이디(사번) 저장하기\r\n                      sessionStorage.setItem(\"login_status\", this.loginInfo.loginStatus);   // sessionStorage 에 로그인 상태 저장하기\r\n\r\n                      for(let i=0; i<1; i++) {\r\n                          location.reload();// 로그인 시 한 번만 새로고침\r\n                      }\r\n\r\n                  } else {\r\n                      alert(\"사원 번호 또는 비밀번호가 일치하지 않습니다!\");\r\n                  }\r\n\r\n              })\r\n              .catch(e => {\r\n                /* eslint-disable no-console */\r\n                console.log(e);\r\n              });\r\n\r\n         } else { // 사원번호, 비밀번호 input 빈 칸인 경우\r\n            alert(\"빈 칸을 확인해주세요!\");\r\n          } // End : if-else\r\n    } // End - login()\r\n\r\n   }, // End - methods\r\n     mounted() {\r\n         if (sessionStorage.length > 0) {\r\n             // 로그인 상태를 <div> 태그에서 판별하기 위해 this.loginInfo.loginStatus 로 대입한다.\r\n             this.loginInfo.loginStatus = sessionStorage.getItem(\"login_status\");\r\n         }\r\n     }\r\n   };\r\n</script>\r\n\r\n<style>\r\n    .mainForm {\r\n        max-width: 300px;\r\n        margin: 100px auto auto;\r\n    }\r\n    .inputLbl {\r\n        margin-right: 220px;\r\n        font-weight: bold;\r\n    }\r\n    .loginBtn{\r\n        width: 300px;\r\n    }\r\n</style>\r\n"]}]}