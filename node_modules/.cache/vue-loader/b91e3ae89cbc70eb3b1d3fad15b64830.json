{"remainingRequest":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\src\\components\\managerpage\\EmployeesManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\src\\components\\managerpage\\EmployeesManagement.vue","mtime":1580980182319},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBodHRwIGZyb20gIi4uLy4uL2h0dHAtY29tbW9uIjsKaW1wb3J0IGVtcGxveWVlc1BvcHVwIGZyb20gIi4vZW1wbG95ZWVzUG9wdXAiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogImVtcGxveWVlc01hbmFnZW1lbnQiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBlbXBsb3llZXM6IFtdLAogICAgICAgICAgICBlbXBfaWQ6ICIiLAogICAgICAgICAgICBuYW1lQW5kUG9zaXRpb246ICIiCiAgICAgICAgfTsKCgogICAgfSwvKkVORC1PRi1kYXRhKi8KCiAgICBtZXRob2RzOiB7CiAgICAgICAgcmV0cmlldmVFbXBsb3llZXMoKSB7CiAgICAgICAgICAgIGh0dHAKICAgICAgICAgICAgICAgIC5nZXQoIi9lbXBsb3llZXMvZW1wbG95ZWVzIikKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcGxveWVlcyA9IHJlc3BvbnNlLmRhdGE7IC8vIEpTT04gYXJlIHBhcnNlZCBhdXRvbWF0aWNhbGx5LgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgcmVmcmVzaExpc3QoKSB7CiAgICAgICAgICAgIHRoaXMucmV0cmlldmVFbXBsb3llZXMoKTsKICAgICAgICAgICAgdGhpcy5uYW1lQW5kUG9zaXRpb24gPSAiIjsKICAgICAgICB9LAogICAgICAgLyogZ29Ub0RldGFpbChlbXAsIGVtcF9pZCkgewogICAgICAgICAgICAvLyB3aW5kb3cub3BlbigiL21hbmFnZXIvZW1wbG95ZWVzLyIgKyBlbXBfaWQpOwogICAgICAgICAgICBjb25zb2xlLmxvZygi65SU7YWM7J2866GcIOqwkeuLiOq5jD8iKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogJ0VtcGxveWVlc01nbURldGFpbCcsCiAgICAgICAgICAgICAgICBwYXJhbXM6IHtlbXBsb3llZTogZW1wLCBpZDogZW1wX2lkfQogICAgICAgICAgICB9KQogICAgICAgICAgICBjb25zb2xlLmxvZyhlbXBfaWQpCiAgICAgICAgfSwqLwoKICAgICAgICBhZGRFbXBsb3llZXMoKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbWFuYWdlci9hZGQtZW1wbG95ZWVzJykKICAgICAgICB9LAogICAgICAgIHNlYXJjaE5hbWVBbmRQb3NpdGlvbigpIHsKICAgICAgICAgICAgaHR0cAogICAgICAgICAgICAgICAgLmdldCgiL2VtcGxveWVlcy9lbXBsb3llZXMvbmFtZUFuZFBvc2l0aW9uLyIgKyB0aGlzLm5hbWVBbmRQb3NpdGlvbikKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcGxveWVlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBlbXBfbW9kaV9kZWwoZW1wLGVtcF9pZCkgeyAvLyDsnbzsoJUg65Ox66GdIG1vZGFsIOudhOyasOuKlCDrqZTshozrk5wKCiAgICAgICAgICAgIHRoaXMuJG1vZGFsLnNob3coZW1wbG95ZWVzUG9wdXAsIHsKICAgICAgICAgICAgICAgIG1vZGFsX2VtcGxveWVlczogJ2RhdGEnLAogICAgICAgICAgICAgICAgICAgIG1vZGFsOiB0aGlzLiRtb2RhbCwKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZXM6eyBlbXBsb3llZTogZW1wLAogICAgICAgICAgICAgICAgICAgICAgICBpZDogZW1wX2lkLH0KCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdkeW5hbWljLW1vZGFsJywKICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzUwMHB4JywKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICc3MDBweCcsCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVtcF9pZCk7CgogICAgICAgIH0sCgoKCiAgICAgICAvKiBlbXBfbW9kaV9kZWwoKSB7IC8vIOydvOyglSDrk7HroZ0gbW9kYWwg652E7Jqw64qUIOuplOyGjOuTnAoKICAgICAgICAgICAgdGhpcy4kbW9kYWwuc2hvdyhlbXBsb3llZXNQb3B1cCwgewogICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGF0YTogJ2RhdGEnLAogICAgICAgICAgICAgICAgICAgIG1vZGFsOiB0aGlzLiRtb2RhbCwgdmFsdWVVcGRhdGVkOiAoZW1wX2lkLCBlbXBfcHcsIGVtcF9uYW1lLCBlbXBfZW1haWwsIHBvc2l0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlyZV9kYXRlLCBleHRlbnNpb25fbnVtYmVyLCBwaG9uZV9udW1iZXIsIGRlcF9pZCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcGxveWVlcy5lbXBfaWQgPSBlbXBfaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVzLmVtcF9wdyA9IGVtcF9wdzsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXBsb3llZXMubmFtZSA9IGVtcF9uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtcGxveWVlcy5lbXBfZW1haWwgPSBlbXBfZW1haWw7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVzLnBvc2l0aW9uID0gcG9zaXRpb247CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVzLmhpcmVfZGF0ZSA9IGhpcmVfZGF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXBsb3llZXMuZXh0ZW5zaW9uX251bWJlciA9IGV4dGVuc2lvbl9udW1iZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVzLnBob25lX251bWJlciA9IHBob25lX251bWJlcjsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXBsb3llZXMuZGVwX2lkID0gZGVwX2lkOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2R5bmFtaWMtbW9kYWwnLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnNTAwcHgnLAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzcwMHB4JywKICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5lbXBsb3llZXMuZW1wX2lkKTsKICAgICAgICB9LCovCiAgICB9LC8qRU5ELU9GLW1ldGhvZHMqLwogICAgbW91bnRlZCgpIHsKICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UubGVuZ3RoID4gMCkgeyAvLyDtmITsnqwgc2Vzc2lvblN0b3JhZ2Xsl5Ag7JqU7IaM6rCAIOyhtOyerO2VmOuKlCDsg4Htg5zsnbwg65WMKOuhnOq3uOyduOydtCDrkJjslrTshJwgc2Vzc2lvblN0b3JhZ2Xsl5Ag7KCA7J6l65CcIOyDge2DnOydvCDrlYwpCiAgICAgICAgICAgIHRoaXMucmV0cmlldmVFbXBsb3llZXMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgIH0KCiAgICB9LAoKfQo="},{"version":3,"sources":["EmployeesManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"EmployeesManagement.vue","sourceRoot":"src/components/managerpage","sourcesContent":["<template>\r\n    <div class=\"employeesMgm\">\r\n        <div>\r\n            <h2>직원 관리</h2>\r\n            <hr>\r\n\r\n            <button v-on:click=\"addEmployees\">직원 추가</button>\r\n\r\n\r\n            <div class=\"form-inline my-2 my-lg-0\" style=\"margin-bottom: 2px; float: right\">\r\n                <fieldset>\r\n                    <input type=\"text\" v-on:keypress=\"searchNameAndPosition\" placeholder=\"검색(이름, 직책 입력)\"\r\n                           class=\"form-control mr-sm-2\" id=\"nameAndPosition\"\r\n                           style=\"margin-right: 0px !important;  margin-top: 10px;\"\r\n                           required v-model=\"nameAndPosition\" name=\"nameAndPosition\"/>\r\n\r\n\r\n                    <button class=\"btn btn-secondary my-2 my-sm-0\" type=\"submit\"\r\n                            style=\"margin-left: 0px;  margin-top: 10px !important; \" v-on:click=\"searchNameAndPosition\">\r\n                        검색\r\n                    </button>\r\n                    <button class=\"btn btn-secondary my-2 my-sm-0\" type=\"submit\"\r\n                            style=\"margin-left: 0px;  margin-top: 10px !important; \" v-on:click=\"refreshList\">취소\r\n                    </button>\r\n                </fieldset>\r\n            </div>\r\n\r\n            {{$route.params}}\r\n            <table id=\"go-to-detail\" class=\"table table-hover\" style=\"margin-top: 20px\">\r\n                <!--출력부분-->\r\n                <thead class=\"table-secondary\">\r\n                <tr>\r\n                    <th>아이디</th>\r\n                    <th>성명</th>\r\n                    <th>이메일</th>\r\n                    <th>직책</th>\r\n                    <th>입사일</th>\r\n                    <th>내선번호</th>\r\n                    <th>휴대폰번호</th>\r\n                    <th>부서</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for=\"(employee, index) in employees\" :key=\"index\" v-on:click=\"emp_modi_del(employee,emp_id)\">\r\n                    <td>\r\n                        <!-- <router-link :to=\"{\r\n                             name: 'EmployeesMgmDetail',\r\n                             params: { employee: employee, emp_id: employee.emp_id }\r\n                         }\">-->\r\n                        {{employee.emp_id}}\r\n                        <!-- </router-link>-->\r\n                    </td>\r\n                    <td>{{employee.name}}</td>\r\n                    <td>{{employee.emp_email}}</td>\r\n                    <td>{{employee.position}}</td>\r\n                    <td>{{employee.hire_date}}</td>\r\n                    <td>{{employee.extension_number}}</td>\r\n                    <td>{{employee.phone_number}}</td>\r\n                    <td>{{employee.dep_id}}</td>\r\n                </tr>\r\n\r\n                </tbody>\r\n            </table>\r\n\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n            <router-view @refreshData=\"refreshList\"></router-view>\r\n        </div>\r\n        <!--modal 컴포넌트 포함 시키기 위한 div-->\r\n        <modals-container/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import http from \"../../http-common\";\r\n    import employeesPopup from \"./employeesPopup\";\r\n\r\n    export default {\r\n        name: \"employeesManagement\",\r\n        data() {\r\n            return {\r\n                employees: [],\r\n                emp_id: \"\",\r\n                nameAndPosition: \"\"\r\n            };\r\n\r\n\r\n        },/*END-OF-data*/\r\n\r\n        methods: {\r\n            retrieveEmployees() {\r\n                http\r\n                    .get(\"/employees/employees\")\r\n                    .then(response => {\r\n                        this.employees = response.data; // JSON are parsed automatically.\r\n                        console.log(response.data);\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e);\r\n                    });\r\n            },\r\n            refreshList() {\r\n                this.retrieveEmployees();\r\n                this.nameAndPosition = \"\";\r\n            },\r\n           /* goToDetail(emp, emp_id) {\r\n                // window.open(\"/manager/employees/\" + emp_id);\r\n                console.log(\"디테일로 갑니까?\");\r\n                this.$router.push({\r\n                    name: 'EmployeesMgmDetail',\r\n                    params: {employee: emp, id: emp_id}\r\n                })\r\n                console.log(emp_id)\r\n            },*/\r\n\r\n            addEmployees() {\r\n                this.$router.push('/manager/add-employees')\r\n            },\r\n            searchNameAndPosition() {\r\n                http\r\n                    .get(\"/employees/employees/nameAndPosition/\" + this.nameAndPosition)\r\n                    .then(response => {\r\n                        this.employees = response.data;\r\n                        console.log(response.data);\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e);\r\n                    });\r\n            },\r\n            emp_modi_del(emp,emp_id) { // 일정 등록 modal 띄우는 메소드\r\n\r\n                this.$modal.show(employeesPopup, {\r\n                    modal_employees: 'data',\r\n                        modal: this.$modal,\r\n                        employees:{ employee: emp,\r\n                            id: emp_id,}\r\n\r\n                    },\r\n                    {\r\n                        name: 'dynamic-modal',\r\n                        width: '500px',\r\n                        height: '700px',\r\n                        draggable: true,\r\n                    });\r\n                console.log(emp_id);\r\n\r\n            },\r\n\r\n\r\n\r\n           /* emp_modi_del() { // 일정 등록 modal 띄우는 메소드\r\n\r\n                this.$modal.show(employeesPopup, {\r\n                        registerData: 'data',\r\n                        modal: this.$modal, valueUpdated: (emp_id, emp_pw, emp_name, emp_email, position,\r\n                                                           hire_date, extension_number, phone_number, dep_id) => {\r\n                            this.employees.emp_id = emp_id;\r\n                            this.employees.emp_pw = emp_pw;\r\n                            this.employees.name = emp_name;\r\n                            this.employees.emp_email = emp_email;\r\n                            this.employees.position = position;\r\n                            this.employees.hire_date = hire_date;\r\n                            this.employees.extension_number = extension_number;\r\n                            this.employees.phone_number = phone_number;\r\n                            this.employees.dep_id = dep_id;\r\n                        }\r\n                    },\r\n                    {\r\n                        name: 'dynamic-modal',\r\n                        width: '500px',\r\n                        height: '700px',\r\n                        draggable: true,\r\n                    });\r\n                console.log(this.employees.emp_id);\r\n            },*/\r\n        },/*END-OF-methods*/\r\n        mounted() {\r\n            if (sessionStorage.length > 0) { // 현재 sessionStorage에 요소가 존재하는 상태일 때(로그인이 되어서 sessionStorage에 저장된 상태일 때)\r\n                this.retrieveEmployees();\r\n            } else {\r\n                this.$router.push(\"/\");\r\n            }\r\n\r\n        },\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    #nameAndPosition {\r\n        width: 200px;\r\n    }\r\n\r\n    .form-group, btn-group {\r\n        float: right;\r\n    }\r\n\r\n</style>"]}]}