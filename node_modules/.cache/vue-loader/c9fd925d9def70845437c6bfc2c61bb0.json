{"remainingRequest":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ciz\\IdeaProjects\\test\\src\\components\\schedule\\ScheduleSubMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\src\\components\\schedule\\ScheduleSubMenu.vue","mtime":1581499144806},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQgaHR0cCBmcm9tICIuLi8uLi9odHRwLWNvbW1vbiI7CiAgICBpbXBvcnQgUmVnaXN0ZXJQb3B1cCBmcm9tICIuL1JlZ2lzdGVyUG9wdXBNb2RhbCI7CiAgICBpbXBvcnQgU2NoZWR1bGVNb2RpZnlNb2RhbCBmcm9tICIuL1NjaGVkdWxlTW9kaWZ5TW9kYWwiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBlbXBfaWQ6ICIiLCAgICAgICAgIC8vIOyCrOuyiAogICAgICAgICAgICBjYWxlbmRhcklucHV0IDogeyAgIC8vIOy2lOqwgO2VoCDsupjrprDrjZQgSW5wdXQKICAgICAgICAgICAgICBjYWxfbmFtZTogIiIsCiAgICAgICAgICAgICAgY2FsX2NvbG9yOiAiI2ZmZmZmZiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2FsZW5kYXJMaXN0OiBbXSwgICAgICAgICAvLyDrqqjrk6Ag7LqY66aw642UIOuqqeuhnQogICAgICAgICAgICBjaGVja2VkQ2FsZW5kYXJzIDogW10sICAgIC8vIOyytO2BrOuQnCDsupjrprDrjZQg66qp66GdCiAgICAgICAgICAgIG1vZGlfZmxhZyA6IFtdLCAgICAgICAgIC8vIOy6mOumsOuNlCDrqqnroZ0g7IiY7KCVIOyXrOu2gCDqsoDsgqztlaAgZmxhZwogICAgICAgICAgICBtb2RpX2NhbF9pbnB1dCA6IFtdLAogICAgICAgICAgICBtb2RpX2NhbF9jb2xvciA6IFtdCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHMgOiB7CiAgICAgICAgYWRkU2NoZWR1bGUoKSB7IC8vIOydvOyglSDrk7HroZ0gbW9kYWwg652E7Jqw64qUIOuplOyGjOuTnAogICAgICAgICAgICB0aGlzLiRtb2RhbC5zaG93KFJlZ2lzdGVyUG9wdXAsIHsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGF0YSA6ICdkYXRhJywKICAgICAgICAgICAgICAgIG1vZGFsIDogdGhpcy4kbW9kYWwsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICBuYW1lOiAnZHluYW1pYy1tb2RhbCcsCiAgICAgICAgICAgICAgICAgd2lkdGg6JzQwMHB4JywKICAgICAgICAgICAgICAgICBoZWlnaHQ6ICc2MDBweCcsCiAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYWRkQ2FsZW5kYXIoKSB7IC8vIOy6mOumsOuNlCDstpTqsIDtlZjquLAKICAgICAgICAgICAgbGV0IHNjaGVfZGF0YSA9IHsKICAgICAgICAgICAgICAgIGNhbGVuZGFyX25hbWUgOiB0aGlzLmNhbGVuZGFySW5wdXQuY2FsX25hbWUsCiAgICAgICAgICAgICAgICBjYWxlbmRhcl9jb2xvcjogdGhpcy5jYWxlbmRhcklucHV0LmNhbF9jb2xvcgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKHRoaXMuY2FsZW5kYXJJbnB1dC5jYWxfbmFtZSA9PT0gIiIgfHwgdGhpcy5jYWxlbmRhcklucHV0LmNhbF9jb2xvciA9PT0gIiIpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGh0dHAKICAgICAgICAgICAgICAgICAgICAucG9zdCgiL2NhbGVuZGFyL2FkZC8iICsgdGhpcy5lbXBfaWQsIHNjaGVfZGF0YSkKICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZT0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDYWxlbmRhckxpc3QoKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICB9LAogICAgICAgIGdldENhbGVuZGFyTGlzdCgpIHsgLy8g7LqY66aw642UIOuqqeuhnSDqsIDsoLjsmKTquLAKICAgICAgICAgICAgaHR0cAogICAgICAgICAgICAgICAgLmdldCgiL2NhbGVuZGFyL2xpc3QvIiArIHRoaXMuZW1wX2lkKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2U9PiB7CiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLwogICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLmNhbGVuZGFyTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlfZmxhZ1tpXSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBtb2RpZnlDYWxlbmRhcigpIHsgIC8vIOy6mOumsOuNlCDsiJjsoJUgTW9kYWwg7LC9IOudhOyasOq4sAogICAgICAgICAgICB0aGlzLiRtb2RhbC5zaG93KFNjaGVkdWxlTW9kaWZ5TW9kYWwsIHsKICAgICAgICAgICAgICAgICAgICBjaGVja2VkQ2FsZW5kYXJzOiB0aGlzLmNoZWNrZWRDYWxlbmRhcnMsICAgIC8vIOyEoO2Dne2VnCDsupjrprDrjZTsnZggY2FsZW5kYXJfaWQg66qp66GdCiAgICAgICAgICAgICAgICAgICAgbW9kYWw6IHRoaXMuJG1vZGFsLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzUwMHB4JywKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICc0MDBweCcsCiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHRoaXMuY2hlY2tlZENhbGVuZGFycyA9IFtdOyAvLyDssrTtgaztlZwg7LqY66aw642UIOuqqeuhnSDstIjquLDtmZQKICAgICAgICAgICAgLy8gdGhpcy5nZXRDYWxlbmRhckxpc3QoKTsgLy8g7LqY66aw642UIOuqqeuhnSDri6Tsi5wg67aI65+s7Jik6riwCiAgICAgICAgfSwKICAgICAgICBkZWxldGVDYWxlbmRhckxpc3QoKSB7ICAvLyDsupjrprDrjZQg66qp66GdIOyCreygnCDtlZjripQg66mU7IaM65OcCiAgICAgICAgICAgIGlmKHRoaXMuY2hlY2tlZENhbGVuZGFycy5sZW5ndGggIT0wKSB7CiAgICAgICAgICAgICAgICBsZXQgZmxhZyA9IGNvbmZpcm0oIuygleunkOuhnCDsgq3soJztlZjsi5zqsqDsirXri4jquYw/Iik7CgogICAgICAgICAgICAgICAgaWYoZmxhZyA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jaGVja2VkQ2FsZW5kYXJzLmxlbmd0aCAhPTApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaHR0cAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRlbGV0ZSgiL2NhbGVuZGFyL2xpc3QvIiArIHRoaXMuZW1wX2lkICsiP2NhbGVuZGFyX2lkPSIgKyB0aGlzLmNoZWNrZWRDYWxlbmRhcnMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZT0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkQ2FsZW5kYXJzID0gW107IC8vIOyytO2BrO2VnCDsupjrprDrjZQg66qp66GdIOy0iOq4sO2ZlAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgLy8gbW91bnRlZCDrkKAg65WMIOuhnOq3uOyduOydtCDrkJjslrTsnojripQg7IOB7YOc652866m0CiAgICAgICAgaWYgKHNlc3Npb25TdG9yYWdlLmxlbmd0aCA+IDApIHsgLy8g7ZiE7J6sIHNlc3Npb25TdG9yYWdl7JeQIOyalOyGjOqwgCDsobTsnqztlZjripQg7IOB7YOc7J28IOuVjCjroZzqt7jsnbjsnbQg65CY7Ja07IScIHNlc3Npb25TdG9yYWdl7JeQIOyggOyepeuQnCDsg4Htg5zsnbwg65WMKQogICAgICAgICAgICB0aGlzLmVtcF9pZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImxvZ2luX2lkIik7CiAgICAgICAgICAgIHRoaXMuZ2V0Q2FsZW5kYXJMaXN0KCk7CiAgICAgICAgfWVsc2UgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["ScheduleSubMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScheduleSubMenu.vue","sourceRoot":"src/components/schedule","sourcesContent":["<template>\r\n    <div class=\"subMenu\">\r\n        <ul class=\"nav nav-pills flex-column\">\r\n            <li class=\"list-group-item addCalendarList libgclr\">\r\n                <button class=\"btn btn-lg btn-link\" @click=\"addSchedule()\">일정 등록</button>\r\n            </li>\r\n            <li class=\"list-group-item libgclr\">\r\n                <label class=\"col-form-label col-form-label calendarLabel\" for=\"inputSmall\">캘린더 추가</label><br>\r\n                <div style=\"width: 100%\">\r\n                    <input type=\"color\" class=\"inputColor\" v-model=\"calendarInput.cal_color\">\r\n                    <input class=\"form-control form-control-sm addInput\" type=\"text\" placeholder=\"추가할 캘린더 입력\" id=\"inputSmall\" v-model=\"calendarInput.cal_name\">\r\n\r\n                    <button class=\"btn btn-lg btn-link addBtn\" @click=\"addCalendar()\">+</button>\r\n                </div>\r\n            </li>\r\n            <li class=\"list-group-item libgclr\">\r\n                <div v-if=\"calendarList\">\r\n                    <label class=\"col-form-label col-form-label calendarLabel\">캘린더 목록</label><br>\r\n                    <label class=\"form-check-label category\" v-for=\"(calendar, index) in calendarList\" :key=\"index\">\r\n                        <input class=\"checkBox\" type=\"checkbox\" :value=\"calendar.calendar_id\" v-model=\"checkedCalendars\" checked=\"calendar_chk\">\r\n\r\n                            <span style=\"font-size: 15px\" :style=\"{color: calendar.calendar_color}\">●</span>&nbsp;\r\n                            {{calendar.calendar_name}}\r\n                    </label><br><br>\r\n\r\n                    <button class=\"btn btn-info btn-sm pushCalBtn\" @click=\"modifyCalendar()\">수정</button>\r\n                    <button class=\"btn btn-info btn-sm pushCalBtn\" @click=\"deleteCalendarList()\">삭제</button>\r\n                </div>\r\n            </li>\r\n\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import http from \"../../http-common\";\r\n    import RegisterPopup from \"./RegisterPopupModal\";\r\n    import ScheduleModifyModal from \"./ScheduleModifyModal\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            emp_id: \"\",         // 사번\r\n            calendarInput : {   // 추가할 캘린더 Input\r\n              cal_name: \"\",\r\n              cal_color: \"#ffffff\"\r\n            },\r\n            calendarList: [],         // 모든 캘린더 목록\r\n            checkedCalendars : [],    // 체크된 캘린더 목록\r\n            modi_flag : [],         // 캘린더 목록 수정 여부 검사할 flag\r\n            modi_cal_input : [],\r\n            modi_cal_color : []\r\n        }\r\n    },\r\n    methods : {\r\n        addSchedule() { // 일정 등록 modal 띄우는 메소드\r\n            this.$modal.show(RegisterPopup, {\r\n                registerData : 'data',\r\n                modal : this.$modal,\r\n            },\r\n            {\r\n                 name: 'dynamic-modal',\r\n                 width:'400px',\r\n                 height: '600px',\r\n                 draggable: true\r\n            });\r\n        },\r\n        addCalendar() { // 캘린더 추가하기\r\n            let sche_data = {\r\n                calendar_name : this.calendarInput.cal_name,\r\n                calendar_color: this.calendarInput.cal_color\r\n            }\r\n            if(this.calendarInput.cal_name === \"\" || this.calendarInput.cal_color === \"\") {\r\n                return;\r\n            } else {\r\n                http\r\n                    .post(\"/calendar/add/\" + this.emp_id, sche_data)\r\n                    .then(response=> {\r\n                        this.getCalendarList();\r\n                    })\r\n                    .catch(e => {\r\n                        /* eslint-disable no-console */\r\n                        console.log(e);\r\n                    });\r\n            }\r\n\r\n        },\r\n        getCalendarList() { // 캘린더 목록 가져오기\r\n            http\r\n                .get(\"/calendar/list/\" + this.emp_id)\r\n                .then(response=> {\r\n                    /* eslint-disable no-console */\r\n                    this.calendarList = response.data;\r\n                    for(let i=0; i<this.calendarList.length; i++) {\r\n                        this.modi_flag[i] = false;\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    /* eslint-disable no-console */\r\n                    console.log(e);\r\n                });\r\n        },\r\n        modifyCalendar() {  // 캘린더 수정 Modal 창 띄우기\r\n            this.$modal.show(ScheduleModifyModal, {\r\n                    checkedCalendars: this.checkedCalendars,    // 선택한 캘린더의 calendar_id 목록\r\n                    modal: this.$modal,\r\n                },\r\n                {\r\n                    width: '500px',\r\n                    height: '400px',\r\n                    draggable: true\r\n                });\r\n\r\n            this.checkedCalendars = []; // 체크한 캘린더 목록 초기화\r\n            // this.getCalendarList(); // 캘린더 목록 다시 불러오기\r\n        },\r\n        deleteCalendarList() {  // 캘린더 목록 삭제 하는 메소드\r\n            if(this.checkedCalendars.length !=0) {\r\n                let flag = confirm(\"정말로 삭제하시겠습니까?\");\r\n\r\n                if(flag == true) {\r\n                    if(this.checkedCalendars.length !=0) {\r\n                        http\r\n                            .delete(\"/calendar/list/\" + this.emp_id +\"?calendar_id=\" + this.checkedCalendars)\r\n                            .then(response=> {\r\n                                /* eslint-disable no-console */\r\n                                this.checkedCalendars = []; // 체크한 캘린더 목록 초기화\r\n                            })\r\n                            .catch(e => {\r\n                                /* eslint-disable no-console */\r\n                                console.log(e);\r\n                            });\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n    mounted() {\r\n        // mounted 될 때 로그인이 되어있는 상태라면\r\n        if (sessionStorage.length > 0) { // 현재 sessionStorage에 요소가 존재하는 상태일 때(로그인이 되어서 sessionStorage에 저장된 상태일 때)\r\n            this.emp_id = sessionStorage.getItem(\"login_id\");\r\n            this.getCalendarList();\r\n        }else {\r\n            this.$router.push(\"/\");\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n    .subMenu {\r\n        min-width: 200px;\r\n    }\r\n    button{\r\n        width:100%;\r\n    }\r\n    .category{\r\n        width: 90%;\r\n        text-align: left;\r\n        font-size: 13px;\r\n        margin: auto 20px;\r\n        padding-right: 10px;\r\n    }\r\n    .calendarLabel {\r\n        padding-top: 0;\r\n        padding-bottom: 10px;\r\n    }\r\n    .inputColor {\r\n        margin-top: 5px;\r\n        float: left;\r\n    }\r\n    .addInput {\r\n        width: 75%;\r\n        float: left;\r\n        margin-left: 5px;\r\n        margin-right: 2px;\r\n    }\r\n    .addBtn {\r\n        width: 5%;\r\n        float: left;\r\n        padding: 0;\r\n    }\r\n    .checkBox {\r\n        margin-top: 5px;\r\n        margin-right: 5px;\r\n    }\r\n    .pushCalBtn {\r\n        width: 50px;\r\n    }\r\n    /* input color 동그랗게 만들기 */\r\n    input[type=\"color\"] {\r\n        cursor: pointer;    /* 클릭 하는 마우스 커서 모양 */\r\n        -webkit-appearance: none;\r\n        width: 18px;\r\n        height: 17px;\r\n        border-radius: 50%;\r\n    }\r\n    input[type=\"color\"]::-webkit-color-swatch-wrapper {\r\n        padding: 0;\r\n    }\r\n    input[type=\"color\"]::-webkit-color-swatch {\r\n        box-sizing: border-box;\r\n        border-radius: 50%;\r\n    }\r\n    .addCalendarList {\r\n        height: 60px;\r\n        vertical-align: middle;\r\n        padding-top: 8px;\r\n    }\r\n</style>\r\n"]}]}