{"remainingRequest":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\src\\components\\survey\\AddSurvey.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\src\\components\\survey\\AddSurvey.vue","mtime":1580967093445},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBodHRwIGZyb20gIi4uLy4uL2h0dHAtY29tbW9uIjsKaW1wb3J0IFBvc3RTdWJtZW51IGZyb20gIi4uL3Bvc3RzL1Bvc3RTdWJtZW51IjsKaW1wb3J0IFN1cnZleVN1Ym1lbnUgZnJvbSAiLi9TdXJ2ZXlTdWJtZW51IjsKCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiYWRkc3VydmV5IiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc3VydmV5OiB7CiAgICAgICAgICAgICAgICBzdXJ2ZXlfaWQ6IiIsCiAgICAgICAgICAgICAgICBzdXJ2ZXlfd3JpdGVyOiIiLAogICAgICAgICAgICAgICAgc3VydmV5X3N1YmplY3Q6IiIsCiAgICAgICAgICAgICAgICBzdXJ2ZXlfZGV0YWlsOiIiLAogICAgICAgICAgICAgICAgc3VydmV5X3F1ZXN0aW9uOiIiLAogICAgICAgICAgICAgICAgYW5zd2VyMToiIiwKICAgICAgICAgICAgICAgIGFuc3dlcjI6IiIsCiAgICAgICAgICAgICAgICBhbnN3ZXIzOiIiLAogICAgICAgICAgICAgICAgc3RhcnRfZGF0ZToiIiwKICAgICAgICAgICAgICAgIGVuZF9kYXRlOiIiCgogICAgICAgICAgICB9LAogICAgICAgICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICAgICAgICBlbXBJRDogIiIKICAgICAgICB9OwogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBzdWJNZW51OiBTdXJ2ZXlTdWJtZW51CiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICAvL+yekeyEseydhCDst6jshoztlZjqs6Ag66as7Iqk7Yq466GcIOuQmOuPjOyVhOqwgOuKlCDrqZTshJzrk5wKICAgICAgICBjbmx0aCgpewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBwYXRoOicvc3VydmV5LycKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi8KICAgICAgICAvL+yeheugpSBmb3Jt7JeQIOyekeyEse2VnCDrhYDshJ3rk6TsnYQg67OA7IiYIGRhdGEg7JeQIOyggOyepe2VmOyXrCBjb250cm9sbGVyIOyXkCDrs7TrgrTso7zripQg66mU7ISc65OcCiAgICAgICAgc2F2ZVN1cnZleSgpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICBzdXJ2ZXlfaWQ6IHRoaXMuc3VydmV5LnN1cnZleV9pZCwKICAgICAgICAgICAgICAgIHN1cnZleV93cml0ZXI6IHRoaXMuc3VydmV5LnN1cnZleV93cml0ZXIsCiAgICAgICAgICAgICAgICBzdXJ2ZXlfc3ViamVjdDogdGhpcy5zdXJ2ZXkuc3VydmV5X3N1YmplY3QsCiAgICAgICAgICAgICAgICBzdXJ2ZXlfcXVlc3Rpb246IHRoaXMuc3VydmV5X3F1ZXN0aW9uLAogICAgICAgICAgICAgICAgc3VydmV5X2RldGFpbDogdGhpcy5zdXJ2ZXkuc3VydmV5X2RldGFpbCwKICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU6IHRoaXMuc3VydmV5LnN0YXJ0X2RhdGUsCiAgICAgICAgICAgICAgICBlbmRfZGF0ZTogdGhpcy5zdXJ2ZXkuZW5kX2RhdGUsCiAgICAgICAgICAgICAgICBhbnN3ZXIxOiB0aGlzLnN1cnZleS5hbnN3ZXIxLAogICAgICAgICAgICAgICAgYW5zd2VyMjogdGhpcy5zdXJ2ZXkuYW5zd2VyMiwKICAgICAgICAgICAgICAgIGFuc3dlcjM6IHRoaXMuc3VydmV5LmFuc3dlcjMKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaHR0cAogICAgICAgICAgICAgICAgLnBvc3QoIi9zdXJ2ZXkvYWRkc3VydmV5IiwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cnZleS5zdXJ2ZXlfaWQgPSByZXNwb25zZS5kYXRhLnN1cnZleV9pZDsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICAgICAgICBhbGVydCgi7ISk66y47J2EIOyEseqzteyggeycvOuhnCDrk7HroZ3tlZjsmIDsirXri4jri6QgISIpOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBwYXRoOicvc3VydmV5JwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYmFja2xpc3QoKXsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDonL3N1cnZleScKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdldE5hbWUobG9naW5faWQpIHsKICAgICAgICAgICAgLyog7IKs7JuQ67KI7Zi47JeQIO2VtOuLue2VmOuKlCDsgqzsm5DrqoUg6rCA7KC47Jik64qUIOuplOyGjOuTnCAqLwogICAgICAgICAgICBodHRwCiAgICAgICAgICAgICAgICAucG9zdCgiL2xvZ2luL25hbWUvIiArIGxvZ2luX2lkKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuc3VydmV5LnN1cnZleV93cml0ZXIgPSByZXNwb25zZS5kYXRhOyAvLyBzdXJ2ZXlfd3JpdGVyIOyXkCDtmITsnqwg66Gc6re47J247ZWcIOyCrOybkOuqheydtCDrk6TslrTqsJAuCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0gLy8gRW5kIC0gZ2V0TmFtZSgpCiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICAvLyBtb3VudGVkIOuQoCDrlYwg66Gc6re47J247J20IOuQmOyWtOyeiOuKlCDsg4Htg5zrnbzrqbQKICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UubGVuZ3RoID4gMCkgeyAvLyDtmITsnqwgc2Vzc2lvblN0b3JhZ2Xsl5Ag7JqU7IaM6rCAIOyhtOyerO2VmOuKlCDsg4Htg5zsnbwg65WMKOuhnOq3uOyduOydtCDrkJjslrTshJwgc2Vzc2lvblN0b3JhZ2Xsl5Ag7KCA7J6l65CcIOyDge2DnOydvCDrlYwpCiAgICAgICAgICAgIHRoaXMuZW1wSUQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJsb2dpbl9pZCIpOyAvLyDsnbQg7Lu07Y+s64SM7Yq47JeQIOyEoOyWuOuQnCBlbXBJRCDrs4DsiJjsl5Ag7ZiE7J6sIOuhnOq3uOyduO2VnCDsgqzrsogg64Sj6riwCiAgICAgICAgICAgIHRoaXMuZ2V0TmFtZSh0aGlzLmVtcElEKTsgICAvLyBlbXBJROuhnCDsgqzsm5DrqoUg6rCA7KC47Jik64qUIOuplOyGjOuTnCDtmLjstpwKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["AddSurvey.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddSurvey.vue","sourceRoot":"src/components/survey","sourcesContent":["<template>\r\n    <div>\r\n    <h3 style=\"margin: 20px; font-weight: bold\">설문 등록하기</h3>\r\n    <div class=\"root\">\r\n        <div class=\"submitform\">\r\n            <div>\r\n                <subMenu></subMenu>\r\n            </div>\r\n\r\n            <div v-if=\"!submitted\"  class=\"ppo\">\r\n\r\n                <div class=\"form-group form-inline \" >\r\n                    <label for=\"writer\" class=\"labelfont\">작성자</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"writer\" required v-model=\"survey.survey_writer\" name=\"writer\" placeholder=\"작성자\" readonly>\r\n                </div>\r\n\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"start_date\" class=\"labelfont\">시작일</label>\r\n                    <input type=\"date\" class=\"form-control col-sm-9\" id=\"start_date\" required v-model=\"survey.start_date\" name=\"start_date\" placeholder=\"설문 시작일\">\r\n                </div>\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"end_date\" class=\"labelfont\">종료일</label>\r\n                    <input type=\"date\" class=\"form-control col-sm-9\" id=\"end_date\" required v-model=\"survey.end_date\" name=\"end_date\" placeholder=\"설문 종료일\">\r\n                </div>\r\n\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"subject\" class=\"labelfont\">글제목</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"subject\" required v-model=\"survey.survey_subject\" name=\"subject\" placeholder=\"글 제목\">\r\n                </div>\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"question\" class=\"labelfont\">제&nbsp;&nbsp;&nbsp; 목</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"question\" required v-model=\"survey.survey_question\" name=\"question\" placeholder=\"설문 제목 \">\r\n                </div>\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"answer1\" class=\"labelfont\">질문 1</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"answer1\" required v-model=\"survey.answer1\" name=\"answer1\" placeholder=\"설문 항목1\">\r\n                </div>\r\n\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"answer2\" class=\"labelfont\">질문 2</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"answer2\" required v-model=\"survey.answer2\" name=\"answer2\" placeholder=\"설문 항목2\">\r\n                </div>\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"answer3\" class=\"labelfont\">질문 3</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"answer3\" required v-model=\"survey.answer3\" name=\"answer3\" placeholder=\"설문 항목3\">\r\n                </div>\r\n\r\n                <div class=\"form-group1 form-inline\">\r\n                    <label for=\"content\" class=\"labelfont\">설문 내용</label>\r\n                    <textarea class=\"form-control col-sm-10\" id=\"content\" rows=\"10\" required v-model=\"survey.survey_detail\" name=\"content\" placeholder=\"1000자 내로 입력하세요\"></textarea>\r\n                </div>\r\n                <br>\r\n\r\n                <button v-on:click=\"saveSurvey\" class=\"btn btn-success\">설문 등록</button>\r\n                <button v-on:click=\"cnlth\" class=\"btn btn-success\">취소하기</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import http from \"../../http-common\";\r\n    import PostSubmenu from \"../posts/PostSubmenu\";\r\n    import SurveySubmenu from \"./SurveySubmenu\";\r\n\r\n\r\n    export default {\r\n        name: \"addsurvey\",\r\n        data() {\r\n            return {\r\n                survey: {\r\n                    survey_id:\"\",\r\n                    survey_writer:\"\",\r\n                    survey_subject:\"\",\r\n                    survey_detail:\"\",\r\n                    survey_question:\"\",\r\n                    answer1:\"\",\r\n                    answer2:\"\",\r\n                    answer3:\"\",\r\n                    start_date:\"\",\r\n                    end_date:\"\"\r\n\r\n                },\r\n                submitted: false,\r\n                empID: \"\"\r\n            };\r\n        },\r\n        components: {\r\n            subMenu: SurveySubmenu\r\n        },\r\n\r\n        methods: {\r\n            //작성을 취소하고 리스트로 되돌아가는 메서드\r\n            cnlth(){\r\n                this.$router.push({\r\n                    path:'/survey/'\r\n                })\r\n            },\r\n            /* eslint-disable no-console */\r\n            //입력 form에 작성한 녀석들을 변수 data 에 저장하여 controller 에 보내주는 메서드\r\n            saveSurvey() {\r\n                var data = {\r\n                    survey_id: this.survey.survey_id,\r\n                    survey_writer: this.survey.survey_writer,\r\n                    survey_subject: this.survey.survey_subject,\r\n                    survey_question: this.survey_question,\r\n                    survey_detail: this.survey.survey_detail,\r\n                    start_date: this.survey.start_date,\r\n                    end_date: this.survey.end_date,\r\n                    answer1: this.survey.answer1,\r\n                    answer2: this.survey.answer2,\r\n                    answer3: this.survey.answer3\r\n                };\r\n                http\r\n                    .post(\"/survey/addsurvey\", data)\r\n                    .then(response => {\r\n                        this.survey.survey_id = response.data.survey_id;\r\n                        console.log(response.data);\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e);\r\n                    });\r\n                this.submitted = true;\r\n                alert(\"설문을 성공적으로 등록하였습니다 !\");\r\n                this.$router.push({\r\n                    path:'/survey'\r\n                })\r\n            },\r\n            backlist(){\r\n                this.$router.push({\r\n                    path:'/survey'\r\n                })\r\n            },\r\n            getName(login_id) {\r\n                /* 사원번호에 해당하는 사원명 가져오는 메소드 */\r\n                http\r\n                    .post(\"/login/name/\" + login_id)\r\n                    .then(response => {\r\n                        this.survey.survey_writer = response.data; // survey_writer 에 현재 로그인한 사원명이 들어감.\r\n                    })\r\n            } // End - getName()\r\n        },\r\n        mounted() {\r\n            // mounted 될 때 로그인이 되어있는 상태라면\r\n            if (sessionStorage.length > 0) { // 현재 sessionStorage에 요소가 존재하는 상태일 때(로그인이 되어서 sessionStorage에 저장된 상태일 때)\r\n                this.empID = sessionStorage.getItem(\"login_id\"); // 이 컴포넌트에 선언된 empID 변수에 현재 로그인한 사번 넣기\r\n                this.getName(this.empID);   // empID로 사원명 가져오는 메소드 호출\r\n            } else {\r\n                this.$router.push(\"/\");\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .submitform{\r\n         max-width: 800px;\r\n         margin: auto;\r\n         border: solid lightgray 0px ;\r\n\r\n     }\r\n    .form-group{\r\n        width: 700px !important;\r\n    }\r\n    .sidelist {\r\n        width: 15%;\r\n        left: 0;\r\n    }\r\n    .ppo{\r\n        text-align: center;\r\n        max-width: 650px;\r\n        width: 100%;\r\n        margin: 0 auto;\r\n\r\n    }\r\n    .root{\r\n        width: 800px;\r\n        border: silver solid 1px;\r\n        margin: 10px;\r\n        padding: 20px 0 50px 0;\r\n        position: absolute;\r\n        left: 24%;\r\n\r\n    }\r\n    .btn btn-success{\r\n        display: none;\r\n    }\r\n    .labelfont{\r\n        font-weight: bold;\r\n        margin-right: 10px;\r\n    }\r\n\r\n</style>"]}]}