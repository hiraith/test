{"remainingRequest":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ciz\\IdeaProjects\\test\\src\\components\\working\\AnnualDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\src\\components\\working\\AnnualDetail.vue","mtime":1580259316814},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBodHRwIGZyb20gIi4uLy4uL2h0dHAtY29tbW9uIjsKaW1wb3J0IFdvcmtpbmdTdWJNZW51IGZyb20gIi4vV29ya2luZ1N1Yk1lbnUiOwppbXBvcnQgTW9kYWwgZnJvbSAiLi9Nb2RhbC52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogImFubnVhbC1kZXRhaWwiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBlbXBJZDogIiIsCiAgICAgICAgICAgIG5hbWU6ICLrjIDtkZwiLAogICAgICAgICAgICB0b3RhbEFubnVhbDogMCwKICAgICAgICAgICAgdXNlZEFubnVhbDogMCwKICAgICAgICAgICAgbGVmdEFubnVhbDogMCwKICAgICAgICAgICAgYW5udWFsczogW10KICAgICAgICB9OwogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBzdWJNZW51OiBXb3JraW5nU3ViTWVudSwKICAgICAgICBNb2RhbDogTW9kYWwKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLwogICAgICAgIHJlYWRBbm51YWxzKCkgey8vIOyCrOyaqe2VnCDsl7DssKjsnZgg64K07Jet7J2EIOyhsO2ajO2VmOuKlCDrqZTshozrk5wKICAgICAgICAgICAgaHR0cAogICAgICAgICAgICAgICAgLmdldCgiL3dvcmtpbmcvYW5udWFscy8iICsgdGhpcy5lbXBJZCkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFubnVhbHMgPSByZXNwb25zZS5kYXRhOyAvLyBKU09OIGFyZSBwYXJzZWQgYXV0b21hdGljYWxseS4KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LC8vIEVuZCAtIHJlYWRBbm51YWxzKCkKICAgICAgICByZWFkVG90YWxBbm51YWwoKXsvL+y0nSDsl7DssKjrpbwg67Cb7JWE7Jik64qUIOuplOyGjOuTnAogICAgICAgICAgICBodHRwCiAgICAgICAgICAgICAgICAuZ2V0KCIvd29ya2luZy90b3RhbEFubnVhbHMvIiArIHRoaXMuZW1wSWQpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbEFubnVhbCA9IHJlc3BvbnNlLmRhdGE7IC8vIEpTT04gYXJlIHBhcnNlZCBhdXRvbWF0aWNhbGx5LgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sLy8gRW5kIC0gcmVhZFRvdGFsQW5udWFsKCkKICAgICAgICBzZXRMZWZ0QW5udWFsKCl7Ly/sgqzsmqntlZwg7Jew7LCo7JmAIOuCqOydgCDsl7DssKgg6rOE7IKwCiAgICAgICAgICAgIHRoaXMudXNlZEFubnVhbD10aGlzLmFubnVhbHMubGVuZ3RoOwogICAgICAgICAgICB0aGlzLmxlZnRBbm51YWw9dGhpcy50b3RhbEFubnVhbC10aGlzLnVzZWRBbm51YWw7CiAgICAgICAgfSwvLyBFbmQgLSBzZXRMZWZ0QW5udWFsKCkKICAgICAgICBzaG93TW9kYWwoKSB7Ly8g66qo64usIOygnOyWtOulvCDsnITtlZwg66mU7IaM65OcCiAgICAgICAgICAgIHRoaXMuJG1vZGFsLnNob3coTW9kYWwsewogICAgICAgICAgICAgICAgaG90X3RhYmxlIDogJ2RhdGEnLAogICAgICAgICAgICAgICAgbW9kYWwgOiB0aGlzLiRtb2RhbCB9LHsKICAgICAgICAgICAgICAgIG5hbWU6ICdkeW5hbWljLW1vZGFsJywKICAgICAgICAgICAgICAgIHdpZHRoIDogJzMwMHB4JywKICAgICAgICAgICAgICAgIGhlaWdodCA6ICcyMjVweCcsCiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLAogICAgICAgICAgICB9KQogICAgICAgIH0vLyBFbmQgLSBzaG93TW9kYWwoKQogICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqLwogICAgfSwvLyBFbmQgLSBtZXRob2RzCiAgICBtb3VudGVkKCkgewogICAgICAgIC8vIG1vdW50ZWQg65CgIOuVjCDroZzqt7jsnbjsnbQg65CY7Ja07J6I64qUIOyDge2DnOudvOuptAogICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5sZW5ndGggPiAwKSB7IC8vIO2YhOyerCBzZXNzaW9uU3RvcmFnZeyXkCDsmpTshozqsIAg7KG07J6s7ZWY64qUIOyDge2DnOydvCDrlYwo66Gc6re47J247J20IOuQmOyWtOyEnCBzZXNzaW9uU3RvcmFnZeyXkCDsoIDsnqXrkJwg7IOB7YOc7J28IOuVjCkKICAgICAgICAgICAgdGhpcy5lbXBJZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImxvZ2luX2lkIik7CiAgICAgICAgICAgIHRoaXMucmVhZFRvdGFsQW5udWFsKCk7CiAgICAgICAgICAgIHRoaXMucmVhZEFubnVhbHMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVkKCl7CiAgICAgICAgdGhpcy5zZXRMZWZ0QW5udWFsKCk7CiAgICB9Cn07Cg=="},{"version":3,"sources":["AnnualDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AnnualDetail.vue","sourceRoot":"src/components/working","sourcesContent":["<template>\r\n    <div class=\"list row\">\r\n        <subMenu></subMenu>\r\n        <div class=\"col-md-12\">\r\n            <h4>연차</h4><button v-on:click=\"showModal()\" class=\"btn btn-outline-success btn-lg\">연차신청</button>\r\n            <table class=\"table table-hover\">\r\n                <thead>\r\n                <tr class=\"table-primary\">\r\n                    <td>이름</td>\r\n                    <td>총 연차</td>\r\n                    <td>사용 연차</td>\r\n                    <td>잔여 연차</td>\r\n                </tr>\r\n                </thead>\r\n                <tr>\r\n                    <td>{{this.name}}</td>\r\n                    <td>{{this.totalAnnual}}</td>\r\n                    <td>{{this.usedAnnual}}</td>\r\n                    <td>{{this.leftAnnual}}</td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n        <div class=\"col-md-12\">\r\n            <h4>연차 사용 이력</h4>\r\n            <table class=\"table table-hover\">\r\n                <thead>\r\n                <tr class=\"table-primary\">\r\n                    <td></td>\r\n                    <td>연차 사용일</td>\r\n                </tr>\r\n                </thead>\r\n                <tr v-for=\"(annual, index) in annuals\" :key=\"index\">\r\n                    <td>{{index+1}}</td>\r\n                    <td>{{annual}}</td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n        <modals-container />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import http from \"../../http-common\";\r\n    import WorkingSubMenu from \"./WorkingSubMenu\";\r\n    import Modal from \"./Modal.vue\";\r\n\r\n    export default {\r\n        name: \"annual-detail\",\r\n        data() {\r\n            return {\r\n                empId: \"\",\r\n                name: \"대표\",\r\n                totalAnnual: 0,\r\n                usedAnnual: 0,\r\n                leftAnnual: 0,\r\n                annuals: []\r\n            };\r\n        },\r\n        components: {\r\n            subMenu: WorkingSubMenu,\r\n            Modal: Modal\r\n        },\r\n        methods: {\r\n            /* eslint-disable no-console */\r\n            readAnnuals() {// 사용한 연차의 내역을 조회하는 메소드\r\n                http\r\n                    .get(\"/working/annuals/\" + this.empId)\r\n                    .then(response => {\r\n                        this.annuals = response.data; // JSON are parsed automatically.\r\n                        console.log(response.data);\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e);\r\n                    });\r\n            },// End - readAnnuals()\r\n            readTotalAnnual(){//총 연차를 받아오는 메소드\r\n                http\r\n                    .get(\"/working/totalAnnuals/\" + this.empId)\r\n                    .then(response => {\r\n                        this.totalAnnual = response.data; // JSON are parsed automatically.\r\n                        console.log(response.data);\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e);\r\n                    });\r\n            },// End - readTotalAnnual()\r\n            setLeftAnnual(){//사용한 연차와 남은 연차 계산\r\n                this.usedAnnual=this.annuals.length;\r\n                this.leftAnnual=this.totalAnnual-this.usedAnnual;\r\n            },// End - setLeftAnnual()\r\n            showModal() {// 모달 제어를 위한 메소드\r\n                this.$modal.show(Modal,{\r\n                    hot_table : 'data',\r\n                    modal : this.$modal },{\r\n                    name: 'dynamic-modal',\r\n                    width : '300px',\r\n                    height : '225px',\r\n                    draggable: false,\r\n                })\r\n            }// End - showModal()\r\n            /* eslint-enable no-console */\r\n        },// End - methods\r\n        mounted() {\r\n            // mounted 될 때 로그인이 되어있는 상태라면\r\n            if (sessionStorage.length > 0) { // 현재 sessionStorage에 요소가 존재하는 상태일 때(로그인이 되어서 sessionStorage에 저장된 상태일 때)\r\n                this.empId = sessionStorage.getItem(\"login_id\");\r\n                this.readTotalAnnual();\r\n                this.readAnnuals();\r\n            } else {\r\n                this.$router.push(\"/\");\r\n            }\r\n        },\r\n        updated(){\r\n            this.setLeftAnnual();\r\n        }\r\n    };\r\n</script>\r\n\r\n<style>\r\n    .list {\r\n        text-align: left;\r\n        max-width: 450px;\r\n        margin: auto;\r\n    }\r\n</style>\r\n"]}]}