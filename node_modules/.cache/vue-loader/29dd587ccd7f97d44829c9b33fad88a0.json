{"remainingRequest":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\src\\components\\survey\\AddSurvey.vue?vue&type=style&index=0&id=db381854&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\src\\components\\survey\\AddSurvey.vue","mtime":1581058995915},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\UpfficeFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zdWJtaXRmb3JtewogICAgIG1heC13aWR0aDogODAwcHg7CiAgICAgbWFyZ2luOiBhdXRvOwogICAgIGJvcmRlcjogc29saWQgbGlnaHRncmF5IDBweCA7CgogfQouZm9ybS1ncm91cHsKICAgIHdpZHRoOiA3MDBweCAhaW1wb3J0YW50Owp9Ci5zaWRlbGlzdCB7CiAgICB3aWR0aDogMTUlOwogICAgbGVmdDogMDsKfQoucHBvewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWF4LXdpZHRoOiA2NTBweDsKICAgIHdpZHRoOiAxMDAlOwogICAgbWFyZ2luOiAwIGF1dG87Cgp9Ci5yb290ewogICAgd2lkdGg6IDgwMHB4OwogICAgYm9yZGVyOiBzaWx2ZXIgc29saWQgMXB4OwogICAgbWFyZ2luLWxlZnQ6IDI1JTsKICAgIHBhZGRpbmc6IDIwcHggMCA1MHB4IDA7CiAgICBwb3NpdGlvbjogc3RhdGljOwogICAgbGVmdDogMjQlOwoKfQouYnRuIGJ0bi1zdWNjZXNzewogICAgZGlzcGxheTogbm9uZTsKfQoubGFiZWxmb250ewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7Cn0KCg=="},{"version":3,"sources":["AddSurvey.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+KA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddSurvey.vue","sourceRoot":"src/components/survey","sourcesContent":["<template>\r\n    <div>\r\n    <h3 style=\"margin: 20px; font-weight: bold\">설문 등록하기</h3>\r\n    <div class=\"root\">\r\n        <div class=\"submitform\">\r\n            <div>\r\n                <subMenu></subMenu>\r\n            </div>\r\n\r\n            <div v-if=\"!submitted\"  class=\"ppo\">\r\n\r\n                <div class=\"form-group form-inline \" >\r\n                    <label for=\"writer\" class=\"labelfont\">작성자</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"writer\" required v-model=\"survey.survey_writer\" name=\"writer\" placeholder=\"작성자\" readonly>\r\n                </div>\r\n\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"start_date\" class=\"labelfont\">시작일</label>\r\n                    <input type=\"date\" class=\"form-control col-sm-9\" id=\"start_date\" required v-model=\"survey.start_date\" name=\"start_date\" placeholder=\"설문 시작일\">\r\n                </div>\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"end_date\" class=\"labelfont\">종료일</label>\r\n                    <input type=\"date\" class=\"form-control col-sm-9\" id=\"end_date\" required v-model=\"survey.end_date\" name=\"end_date\" placeholder=\"설문 종료일\">\r\n                </div>\r\n\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"subject\" class=\"labelfont\">글제목</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"subject\" required v-model=\"survey.survey_subject\" name=\"subject\" placeholder=\"글 제목\">\r\n                </div>\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"question\" class=\"labelfont\">설&nbsp;&nbsp;&nbsp; 문</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"question\" required v-model=\"survey.survey_question\" name=\"question\" placeholder=\"설문 제목 \">\r\n                </div>\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"answer1\" class=\"labelfont\">질문 1</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"answer1\" required v-model=\"survey.answer1\" name=\"answer1\" placeholder=\"설문 항목1\">\r\n                </div>\r\n\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"answer2\" class=\"labelfont\">질문 2</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"answer2\" required v-model=\"survey.answer2\" name=\"answer2\" placeholder=\"설문 항목2\">\r\n                </div>\r\n                <div class=\"form-group form-inline\">\r\n                    <label for=\"answer3\" class=\"labelfont\">질문 3</label>\r\n                    <input type=\"text\" class=\"form-control col-sm-9\" id=\"answer3\" required v-model=\"survey.answer3\" name=\"answer3\" placeholder=\"설문 항목3\">\r\n                </div>\r\n\r\n                <div class=\"form-group1 form-inline\">\r\n                    <label for=\"content\" class=\"labelfont\">설문 내용</label>\r\n                    <textarea class=\"form-control col-sm-10\" id=\"content\" rows=\"10\" required v-model=\"survey.survey_detail\" name=\"content\" placeholder=\"1000자 내로 입력하세요\"></textarea>\r\n                </div>\r\n                <br>\r\n\r\n                <button v-on:click=\"saveSurvey\" class=\"btn btn-success\">설문 등록</button>\r\n                <button v-on:click=\"cnlth\" class=\"btn btn-success\">취소하기</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import http from \"../../http-common\";\r\n    import PostSubmenu from \"../posts/PostSubmenu\";\r\n    import SurveySubmenu from \"./SurveySubmenu\";\r\n\r\n\r\n    export default {\r\n        name: \"addsurvey\",\r\n        data() {\r\n            return {\r\n                survey: {\r\n                    survey_id:\"\",\r\n                    survey_writer:\"\",\r\n                    survey_subject:\"\",\r\n                    survey_detail:\"\",\r\n                    survey_question:\"\",\r\n                    answer1:\"\",\r\n                    answer2:\"\",\r\n                    answer3:\"\",\r\n                    start_date:\"\",\r\n                    end_date:\"\"\r\n\r\n                },\r\n                submitted: false,\r\n                empID: \"\"\r\n            };\r\n        },\r\n        components: {\r\n            subMenu: SurveySubmenu\r\n        },\r\n\r\n        methods: {\r\n            //작성을 취소하고 리스트로 되돌아가는 메서드\r\n            cnlth(){\r\n                this.$router.push({\r\n                    path:'/survey/'\r\n                })\r\n            },\r\n            /* eslint-disable no-console */\r\n            //입력 form에 작성한 녀석들을 변수 data 에 저장하여 controller 에 보내주는 메서드\r\n            saveSurvey() {\r\n                var data = {\r\n                    survey_id: this.survey.survey_id,\r\n                    survey_writer: this.survey.survey_writer,\r\n                    survey_subject: this.survey.survey_subject,\r\n                    survey_question: this.survey.survey_question,\r\n                    survey_detail: this.survey.survey_detail,\r\n                    start_date: this.survey.start_date,\r\n                    end_date: this.survey.end_date,\r\n                    answer1: this.survey.answer1,\r\n                    answer2: this.survey.answer2,\r\n                    answer3: this.survey.answer3\r\n                };\r\n                    if(data.survey_subject==null || data.survey_subject==\"\"){\r\n                        alert(\"게시글 제목을 입력하세요\");\r\n                    }else if(data.survey_question==null ||data.survey_question==\"\"){\r\n                        alert(\"설문 제목을 입력하세요\");\r\n                    }else if(data.survey_detail ==null || data.survey_detail==\"\"){\r\n                        alert(\"설문 내용을 입력하세요\");\r\n                    }else if(data.start_date ==null || data.start_date == \"\"){\r\n                        alert(\"설문 시작일을 기재하세요\");\r\n                    }else if(data.end_date == null || data.end_date== \"\"){\r\n                        alert(\"설문 종료일을 기재하세요\");\r\n                    }else if(data.answer1 ==null || data.answer1==\"\"){\r\n                        alert(\"질문 1 을 입력하세요\");\r\n                    }else if(data.answer2 ==null || data.answer2==\"\"){\r\n                        alert(\"질문 2 를 입력하세요\");\r\n                    }else if(data.answer3 == null || data.answer3==\"\"){\r\n                        alert(\"질문 3 을 입력하세요\");\r\n                    }else{\r\n                http\r\n                    .post(\"/survey/addsurvey\", data)\r\n                    .then(response => {\r\n                        this.survey.survey_id = response.data.survey_id;\r\n                        console.log(response.data);\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e);\r\n                    });\r\n                this.submitted = true;\r\n                alert(\"설문을 성공적으로 등록하였습니다 !\");\r\n                this.$router.push({\r\n                    path:'/survey'\r\n                })\r\n                    }\r\n\r\n            },\r\n            backlist(){\r\n                this.$router.push({\r\n                    path:'/survey'\r\n                })\r\n            },\r\n            getName(login_id) {\r\n                /* 사원번호에 해당하는 사원명 가져오는 메소드 */\r\n                http\r\n                    .post(\"/login/name/\" + login_id)\r\n                    .then(response => {\r\n                        this.survey.survey_writer = response.data; // survey_writer 에 현재 로그인한 사원명이 들어감.\r\n                    })\r\n            } // End - getName()\r\n        },\r\n        mounted() {\r\n            // mounted 될 때 로그인이 되어있는 상태라면\r\n            if (sessionStorage.length > 0) { // 현재 sessionStorage에 요소가 존재하는 상태일 때(로그인이 되어서 sessionStorage에 저장된 상태일 때)\r\n                this.empID = sessionStorage.getItem(\"login_id\"); // 이 컴포넌트에 선언된 empID 변수에 현재 로그인한 사번 넣기\r\n                this.getName(this.empID);   // empID로 사원명 가져오는 메소드 호출\r\n            } else {\r\n                this.$router.push(\"/\");\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .submitform{\r\n         max-width: 800px;\r\n         margin: auto;\r\n         border: solid lightgray 0px ;\r\n\r\n     }\r\n    .form-group{\r\n        width: 700px !important;\r\n    }\r\n    .sidelist {\r\n        width: 15%;\r\n        left: 0;\r\n    }\r\n    .ppo{\r\n        text-align: center;\r\n        max-width: 650px;\r\n        width: 100%;\r\n        margin: 0 auto;\r\n\r\n    }\r\n    .root{\r\n        width: 800px;\r\n        border: silver solid 1px;\r\n        margin-left: 25%;\r\n        padding: 20px 0 50px 0;\r\n        position: static;\r\n        left: 24%;\r\n\r\n    }\r\n    .btn btn-success{\r\n        display: none;\r\n    }\r\n    .labelfont{\r\n        font-weight: bold;\r\n        margin-right: 10px;\r\n    }\r\n\r\n</style>"]}]}