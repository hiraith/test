{"remainingRequest":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ciz\\IdeaProjects\\test\\src\\components\\TopMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\src\\components\\TopMenu.vue","mtime":1581499144774},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ciz\\IdeaProjects\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGh0dHAgZnJvbSAiLi4vaHR0cC1jb21tb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1c3RvbWVyczogW10sCiAgICAgIGxvZ2luSW5mbzogewogICAgICAgIGxvZ2luX3N0YXR1czogIiIsCiAgICAgICAgbG9naW5faWQ6ICIiLAogICAgICAgIG1hbmFnZXI6ICIiCiAgICAgIH0sCiAgICAgIGNudDogMCwKICAgICAgbG9naW5fbmFtZTogIiIsCiAgICAgIGVtcF9pbWdfdXJsOiAiIiAvLyDsgqzsm5Ag7IKs7KeEIOqyveuhnAoKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgLyog66Gc6re47JWE7JuDIOuplOyGjOuTnCAqLwogICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOyAvLyBsb2dvdXQg7IucIOyEuOyFmCDsiqTthqDrpqzsp4Ag67mE7Jqw6riwIDogc2Vzc2lvblN0b3JhZ2UubGVuZ3RoIOqwgCAw7J20IOuQnOuLpC4KCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7IC8vIGxvZ291dCDsi5wg7LKrIOuhnOq3uOyduCDtjpjsnbTsp4DroZwg7J2064+ZCiAgICB9LAogICAgLy8gRW5kIC0gY2xlYXJJbnB1dCgpCiAgICBnZXROYW1lOiBmdW5jdGlvbiBnZXROYW1lKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLyog7IKs7JuQ67KI7Zi47JeQIO2VtOuLue2VmOuKlCDsgqzsm5DrqoUg6rCA7KC47Jik64qUIOuplOyGjOuTnCAqLwogICAgICBodHRwLnBvc3QoIi9sb2dpbi9uYW1lLyIgKyB0aGlzLmxvZ2luSW5mby5sb2dpbl9pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5sb2dpbl9uYW1lID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gRW5kIC0gZ2V0TmFtZSgpCiAgICBtYW5hZ2VyT3JOb3Q6IGZ1bmN0aW9uIG1hbmFnZXJPck5vdCgpIHsKICAgICAgaWYgKHRoaXMubG9naW5JbmZvLmxvZ2luX2lkID09PSAnbWFuYWdlcicpIHsKICAgICAgICB0aGlzLm1hbmFnZXIgPSB0cnVlOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLyog66Gc6re47J24IOyEseqztSDsobDqsbQgOiDroZzqt7jsnbgg7ZWY66m0IOyEuOyFmCDsiqTthqDrpqzsp4Dsl5Ag7JqU7IaM65Ok7J20IOyggOyepeuQmOuvgOuhnCBsZW5ndGgg6rCAIDAg7J207IOBLiAqLwogICAgaWYgKHNlc3Npb25TdG9yYWdlLmxlbmd0aCA+IDApIHsKICAgICAgLy8gVG9wTWVudSDsu7Ttj6zrhIztirgg67OA7IiY7JeQIOyEuOyFmCDsiqTthqDrpqzsp4Dsl5Ag7KCA7J6l65CcIOqwkiDrhKPquLAKICAgICAgdGhpcy5sb2dpbkluZm8ubG9naW5faWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJsb2dpbl9pZCIpOwogICAgICB0aGlzLmxvZ2luSW5mby5sb2dpbl9zdGF0dXMgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJsb2dpbl9zdGF0dXMiKTsKICAgICAgdGhpcy5sb2dpbkluZm8ubWFuYWdlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImlzTWFuYWdlciIpOyAvLyDroZzqt7jsnbgg7ZWcIOyCrOuejOydtCDrp6Tri4jsoIDqsIAg7JWE64uQIOuVjOunjCDsi6TtlonrkJzri6QuIDog7J2066aEIOqwgOyguOyYpOq4sCwg7IKs7JuQIOyCrOynhCDqsIDsoLjsmKTquLAKICAgICAgLy8g7IKs7JuQIOydtOuvuOyngCDqsr3roZwg7ISk7KCVCiAgICAgIC8vIOuwkeydmCDqsr3roZzsl5Ag7IKs67KILmpwZ+yXkCDtlbTri7ntlZjripQg7J2066+47KeAIO2MjOydvOydhCDrhKPslrTrkZDqs6Ag7IKs7Jqp7ZWY66m0IOuQqAoKICAgICAgaWYgKCF0aGlzLmxvZ2luSW5mby5tYW5hZ2VyKSB7CiAgICAgICAgdGhpcy5nZXROYW1lKCk7IC8vIOydtOumhCDqsIDsoLjsmKTquLAg7JyE7ZWcIOuplOyGjOuTnAoKICAgICAgICB0aGlzLmVtcF9pbWdfdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9lbXBfaW1nLycgKyB0aGlzLmxvZ2luSW5mby5sb2dpbl9pZCArICcuanBnJzsgLy8g7IKs7JuQIOydtOuvuOyngCDqsr3roZwg7ISk7KCVCiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["TopMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,OAAA,IAAA,MAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,YAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAFA;AAOA,MAAA,GAAA,EAAA,CAPA;AAQA,MAAA,UAAA,EAAA,EARA;AASA,MAAA,WAAA,EAAA,EATA,CASA;;AATA,KAAA;AAWA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA;AACA,MAAA,cAAA,CAAA,KAAA,GAFA,CAEA;;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EAHA,CAGA;AACA,KALA;AAKA;AACA,IAAA,OANA,qBAMA;AAAA;;AACA;AACA,MAAA,IAAA,CACA,IADA,CACA,iBAAA,KAAA,SAAA,CAAA,QADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAJA;AAKA,KAbA;AAaA;AACA,IAAA,YAdA,0BAcA;AACA,UAAA,KAAA,SAAA,CAAA,QAAA,KAAA,SAAA,EAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA;AACA;AAlBA,GAdA;AAkCA,EAAA,OAlCA,qBAkCA;AACA;AACA,QAAA,cAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA;AACA,WAAA,SAAA,CAAA,QAAA,GAAA,cAAA,CAAA,OAAA,CAAA,UAAA,CAAA;AACA,WAAA,SAAA,CAAA,YAAA,GAAA,cAAA,CAAA,OAAA,CAAA,cAAA,CAAA;AACA,WAAA,SAAA,CAAA,OAAA,GAAA,cAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CAJA,CAMA;AACA;AACA;;AACA,UAAA,CAAA,KAAA,SAAA,CAAA,OAAA,EAAA;AACA,aAAA,OAAA,GADA,CACA;;AACA,aAAA,WAAA,GAAA,mCAAA,KAAA,SAAA,CAAA,QAAA,GAAA,MAAA,CAFA,CAEA;AACA;AAEA;AACA;AAnDA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <div v-if=\"!loginInfo.manager\" class=\"topMenu\">\r\n            <div>\r\n                <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n                    <router-link class=\"navbar-brand\" to=\"/\">upffice</router-link>\r\n                    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarColor01\"\r\n                            aria-controls=\"navbarColor01\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span class=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div class=\"collapse navbar-collapse\" id=\"navbarColor01\">\r\n                        <ul class=\"navbar-nav mr-auto\">\r\n                            <li class=\"nav-item\">\r\n                                <router-link class=\"nav-link\" to=\"/calendar\">일정관리</router-link>\r\n                            </li>\r\n                            <li class=\"nav-item\">\r\n                                <router-link class=\"nav-link\" to=\"/working\">근태관리</router-link>\r\n                            </li>\r\n                            <li class=\"nav-item\">\r\n                                <router-link class=\"nav-link\" to=\"/app\">전자결재</router-link>\r\n                            </li>\r\n                            <li class=\"nav-item\">\r\n                                <router-link class=\"nav-link\" to=\"/pst\">게시판</router-link>\r\n                            </li>\r\n                            <li class=\"nav-item\">\r\n                                <router-link class=\"nav-link\" to=\"/survey\">설문</router-link>\r\n                            </li>\r\n<!--                            <li class=\"nav-item\">-->\r\n<!--                                <router-link class=\"nav-link\" to=\"/file\">자료실</router-link>-->\r\n<!--                            </li>-->\r\n                            <li class=\"nav-item\">\r\n                                <router-link class=\"nav-link\" to=\"/mainEmployAddress\">주소록</router-link>\r\n                            </li>\r\n                        </ul>\r\n\r\n                        <!-- 로그인 안 한 상태 => v-if : loginInfo.login_status 사용함으로써 로그인이 필요한 상태인지 구분 -->\r\n                        <form v-if=\"!loginInfo.login_status\" class=\"form-inline my-2 my-lg-0\">\r\n                            <span style=\"color: white\">로그인이 필요합니다</span>\r\n                        </form>\r\n\r\n                        <!-- 로그인 한 상태 => v-else : 로그인 된 후 top menu 오른쪽에 이름을 띄우며, 이름 클릭 시 마이페이지로 이동 -->\r\n                        <form v-else class=\"form-inline my-2 my-lg-0\">\r\n                            <div class=\"img_div\">\r\n                                <img v-bind:src=\"emp_img_url\"><br>\r\n                            </div>\r\n                            <router-link :to=\"{ name: 'mypage'}\"> <!-- name이 mypage인 컴포넌트를 router에서 자동 매핑해준다-->\r\n                                <span style=\"color: white\">{{login_name}}({{loginInfo.login_id}}) 님</span>\r\n                                <!-- 이름 : mounted() 일 때, 로그인 성공 상태이면 getName()으로 가져옴 -->\r\n                            </router-link>&nbsp;&nbsp;&nbsp;\r\n                            <button class=\"btn btn-secondary my-2 my-sm-0\" v-on:click=\"logout\">Logout</button>\r\n                            <!-- 로그아웃 버튼 -->\r\n                        </form>\r\n\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n            <br/>\r\n        </div>\r\n        <div v-else-if=\"loginInfo.manager\" class=\"topMenu\">\r\n            <div>\r\n                <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n                    <router-link class=\"navbar-brand\" to=\"/\">upffice</router-link>\r\n                    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarColor01\"\r\n                            aria-controls=\"navbarColor01\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span class=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div class=\"collapse navbar-collapse\" >\r\n                        <ul class=\"navbar-nav mr-auto\">\r\n                            <li class=\"nav-item\">\r\n                                <router-link class=\"nav-link\" to=\"/manager/employees\">직원관리</router-link>\r\n                            </li>\r\n                            <li class=\"nav-item\">\r\n                                <router-link class=\"nav-link\" to=\"/manager/out-address\">외부주소록관리</router-link>\r\n                            </li>\r\n                            <li class=\"nav-item\">\r\n                                <router-link class=\"nav-link\" to=\"/manager/form-management\">양식관리</router-link>\r\n                            </li>\r\n                        </ul>\r\n\r\n                        <span style=\"color: white\">매니저 님</span>&nbsp;&nbsp;&nbsp;\r\n                        <form v-if=\"loginInfo.manager\" class=\"form-inline my-2 my-lg-0\">\r\n                            <button class=\"btn btn-secondary my-2 my-sm-0\" v-on:click=\"logout\">Logout</button>\r\n                            <!-- 로그아웃 버튼 -->\r\n                        </form>\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import http from \"../http-common\";\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                customers: [],\r\n                loginInfo: {\r\n                    login_status: \"\",\r\n                    login_id: \"\",\r\n                    manager: \"\"\r\n                },\r\n                cnt: 0,\r\n                login_name: \"\",\r\n                emp_img_url: \"\" // 사원 사진 경로\r\n            };\r\n        },\r\n        methods: {\r\n            logout() {\r\n                /* 로그아웃 메소드 */\r\n                sessionStorage.clear();         // logout 시 세션 스토리지 비우기 : sessionStorage.length 가 0이 된다.\r\n                this.$router.push(\"/\"); // logout 시 첫 로그인 페이지로 이동\r\n            }, // End - clearInput()\r\n            getName() {\r\n                /* 사원번호에 해당하는 사원명 가져오는 메소드 */\r\n                http\r\n                    .post(\"/login/name/\" + this.loginInfo.login_id)\r\n                    .then(response => {\r\n                        this.login_name = response.data;\r\n                    })\r\n            }, // End - getName()\r\n            managerOrNot(){\r\n                if(this.loginInfo.login_id==='manager'){\r\n                    this.manager=true;\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            /* 로그인 성공 조건 : 로그인 하면 세션 스토리지에 요소들이 저장되므로 length 가 0 이상. */\r\n            if (sessionStorage.length > 0) {\r\n                // TopMenu 컴포넌트 변수에 세션 스토리지에 저장된 값 넣기\r\n                this.loginInfo.login_id = sessionStorage.getItem(\"login_id\");\r\n                this.loginInfo.login_status = sessionStorage.getItem(\"login_status\");\r\n                this.loginInfo.manager = sessionStorage.getItem(\"isManager\");\r\n\r\n                // 로그인 한 사람이 매니저가 아닐 때만 실행된다. : 이름 가져오기, 사원 사진 가져오기\r\n                // 사원 이미지 경로 설정\r\n                // 밑의 경로에 사번.jpg에 해당하는 이미지 파일을 넣어두고 사용하면 됨\r\n                if(!this.loginInfo.manager) {\r\n                    this.getName(); // 이름 가져오기 위한 메소드\r\n                    this.emp_img_url = 'http://localhost:8080/emp_img/'+ this.loginInfo.login_id + '.jpg';  // 사원 이미지 경로 설정\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .topMenu {\r\n        text-align: center;\r\n    }\r\n\r\n    .btn-secondary {\r\n        margin-right: 5px;\r\n    }\r\n\r\n    .img_div {\r\n        width: 30px;\r\n        height: 30px;\r\n        border-radius: 70%;\r\n        overflow: hidden;\r\n        margin-right: 10px;\r\n    }\r\n\r\n    img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: cover;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/components"}]}